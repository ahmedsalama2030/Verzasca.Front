"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[277],{56701:(y,j,r)=>{r.d(j,{g:()=>C});var m=r(54438),c=r(62984),u=r(51188),S=r(3888);let C=(()=>{class _{constructor(f,E,h){this.authservice=f,this.router=E,this.alertService=h}canActivate(f){return!!this.authservice.permissionMatch(f.data.permission)||(this.alertService.error("general.notAllow.notAllowPageMessage"),this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(E){return new(E||_)(m.KVO(c.J),m.KVO(u.Ix),m.KVO(S.u))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},56131:(y,j,r)=>{r.d(j,{E:()=>u});var m=r(7673),c=r(99437);class u{constructor(C,_,I){this.router=C,this.BaseService=_,this.alertService=I,this.pagination={pageNumber:1,pageSize:10}}resolve(C,_){return this.BaseService.get(this.pagination).pipe((0,c.W)(I=>(this.router.navigate([""]),this.alertService.error(I),(0,m.of)(null))))}}},75277:(y,j,r)=>{r.r(j),r.d(j,{StoresModule:()=>Pe});var m=r(60177),c=r(89417),u=r(69005),S=r(91022),C=r(70255),_=r(63789),I=r(98982),f=r.n(I),E=r(45633),h=r(8147),b=r(35263),D=r(65430),V=r(41631),R=r(1530),O=r(72510),k=r(71144),L=r(38542),x=r(51188),M=r(56977),T=r(37021),B=r(35335),o=r(45236),l=r(70980),v=r(75622),e=r(54438),F=r(3888),N=r(67569),A=r(45312),$=r(21626);let z=(()=>{class s extends N.d{constructor(n){super(n,A.c.apiUrl+"Store/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||s)(e.KVO($.Qq))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Y=r(54384),K=r(91426),w=r(26364),W=r(40724),Q=r(15084),H=r(88148),J=r(91580),Z=r(5779),q=r(29935);function ie(s,g){1&s&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," stores.store.nameEn "),e.k0s(),e.j41(6,"th",26),e.nrm(7,"i",27),e.EFF(8," stores.store.nameAr "),e.k0s(),e.j41(9,"th",28),e.nrm(10,"i",27),e.EFF(11," stores.store.isActive "),e.k0s(),e.j41(12,"th",28),e.nrm(13,"i",27),e.EFF(14," stores.store.isMain "),e.k0s(),e.nrm(15,"th",29),e.k0s())}function se(s,g){1&s&&e.nrm(0,"span",37)}function ae(s,g){1&s&&e.nrm(0,"span",38)}function re(s,g){1&s&&e.nrm(0,"span",37)}function oe(s,g){1&s&&e.nrm(0,"span",38)}function le(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",30)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,se,1,0,"span",31)(9,ae,1,0,"span",32),e.k0s(),e.j41(10,"td"),e.DNE(11,re,1,0,"span",31)(12,oe,1,0,"span",32),e.k0s(),e.j41(13,"td")(14,"button",33),e.nI1(15,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),p=e.sdS(22);return e.Njj(a.editModal(t.id,p))}),e.nrm(16,"i",34),e.k0s(),e.j41(17,"button",35),e.nI1(18,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),p=e.sdS(24);return e.Njj(a.openModal(t.id,p))}),e.nrm(19,"i",36),e.k0s()()()}if(2&s){const n=g.$implicit,i=g.rowIndex;e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.nameEn),e.R7$(2),e.JRh(n.nameAr),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(2),e.Y8G("ngIf",n.isMain),e.R7$(),e.Y8G("ngIf",!n.isMain),e.R7$(2),e.FS9("pTooltip",e.bMT(15,9,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(18,11,"general.delete"))}}function me(s,g){1&s&&(e.j41(0,"div",39),e.EFF(1," general.table.noData"),e.k0s())}function de(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",40)(1,"div",41),e.nrm(2,"ngb-pagination-info",42),e.j41(3,"table-length",43),e.bIt("lengthChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",44)(5,"ngb-pagination",45),e.bIt("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.pagination.pageNumber,t)||(a.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function ce(s,g){1&s&&(e.j41(0,"span",70),e.EFF(1,"general.action.register "),e.k0s())}function pe(s,g){1&s&&(e.j41(0,"span",70),e.EFF(1,"general.action.edit "),e.k0s())}function ge(s,g){1&s&&(e.j41(0,"div",71),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function he(s,g){1&s&&(e.j41(0,"div",71),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ue(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",46)(1,"h4",47),e.DNE(2,ce,2,0,"span",48)(3,pe,2,0,"span",48),e.nrm(4,"span",49),e.k0s(),e.j41(5,"button",50),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",51,3),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",52)(10,"div",53)(11,"div",54)(12,"div",7)(13,"div",55)(14,"label",56),e.EFF(15,"stores.store.nameEn"),e.k0s(),e.j41(16,"div",57)(17,"input",58,4),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameEn,t)||(a.form.nameEn=t),e.Njj(t)}),e.k0s(),e.DNE(19,ge,2,0,"div",59),e.k0s()(),e.j41(20,"div",55)(21,"label",60),e.EFF(22,"stores.store.nameAr"),e.k0s(),e.j41(23,"div",57)(24,"input",61,5),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameAr,t)||(a.form.nameAr=t),e.Njj(t)}),e.k0s(),e.DNE(26,he,2,0,"div",59),e.k0s()(),e.j41(27,"div",62)(28,"label",63),e.EFF(29,"stores.store.isActive"),e.k0s(),e.j41(30,"p-inputSwitch",64),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.isActive,t)||(a.form.isActive=t),e.Njj(t)}),e.k0s()(),e.j41(31,"div",62)(32,"label",65),e.EFF(33,"stores.store.isMain"),e.k0s(),e.j41(34,"p-inputSwitch",66),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.isMain,t)||(a.form.isMain=t),e.Njj(t)}),e.k0s()()(),e.j41(35,"div",67),e.nrm(36,"button",68),e.j41(37,"button",69),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&s){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(9),e.R50("ngModel",a.form.nameEn),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(5),e.R50("ngModel",a.form.nameAr),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.R50("ngModel",a.form.isActive),e.R7$(4),e.R50("ngModel",a.form.isMain),e.R7$(2),e.Y8G("disabled",!n.valid)}}function _e(s,g){if(1&s){const n=e.RV6();e.j41(0,"delete-modal",72),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let fe=(()=>{class s extends v.w{constructor(n,i,t,a,p,d,G,P,X,U){super(n,i,G,p,t,a,d),this.baseService=p,this.service=P,this.excelService=X,this.router=U,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,M.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}editEntity(){let n=this.mapForm(this.form);this.baseService.ToEdit(n.id,n).pipe((0,T.O)(),(0,B.c)(this.mainDelay),(0,o.Z)(),(0,M.Q)(this.notifier),(0,l.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:a=>{this.form=a.data}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,T.O)(),(0,B.c)(this.mainDelay),(0,o.Z)(),(0,M.Q)(this.notifier),(0,l.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(x.nX),e.rXU(h.c$),e.rXU(F.u),e.rXU(m.vh),e.rXU(z),e.rXU(R.eD),e.rXU(u.Bq),e.rXU(Y.m),e.rXU(K.V),e.rXU(x.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-store"]],features:[e.Vt3],decls:25,vars:19,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","name","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","mobile","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.store.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["for","isMain","translate","",1,"fw-bold","form-label","d-block"],["id","isMain","name","isMain","inputId","isMain",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const a=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"base-filter",10),e.bIt("reset",function(){return e.eBV(a),e.Njj(t.onReset())})("search",function(){return e.eBV(a),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(a);const d=e.sdS(22);return e.Njj(t.openModalTitle(d))}),e.qex(6,11),e.j41(7,"div",12)(8,"div",13)(9,"input",14),e.nI1(10,"translate"),e.mxI("ngModelChange",function(d){return e.eBV(a),e.DH7(t.pagination.filterValue,d)||(t.pagination.filterValue=d),e.Njj(d)}),e.k0s(),e.nrm(11,"i",15),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",16),e.nrm(13,"ngx-ui-loader",17),e.j41(14,"div",18)(15,"p-table",19,0),e.bIt("onLazyLoad",function(d){return e.eBV(a),e.Njj(t.tableChange(d))})("selectionChange",function(d){return e.eBV(a),e.Njj(t.onSelectionChange(d))}),e.DNE(17,ie,16,0,"ng-template",20)(18,le,20,13,"ng-template",21),e.k0s()(),e.DNE(19,me,2,0,"div",22)(20,de,6,8,"div",23),e.k0s()()()(),e.DNE(21,ue,38,12,"ng-template",null,1,e.C5r)(23,_e,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,15,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,17,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[m.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,w.m,W.b,Q.w,H.p,J.g,h.Mm,b.XI,Z.Ei,b.Tg,V.HW,R.Cv,q.m,L.m,h.D9],encapsulation:2})}}return s})();var ee=r(56131);let be=(()=>{class s extends ee.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(x.Ix),e.KVO(z),e.KVO(F.u))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var te=r(56701),ve=r(99437),Se=r(18810);let ne=(()=>{class s extends N.d{constructor(n){super(n,A.c.apiUrl+"StoreItem/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||s)(e.KVO($.Qq))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Ie=r(99902);function Ee(s,g){1&s&&(e.j41(0,"tr",27)(1,"th",28),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",29),e.nrm(4,"i",30),e.EFF(5," stores.items.image "),e.k0s(),e.j41(6,"th",29),e.nrm(7,"i",30),e.EFF(8," stores.items.nameEn "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",30),e.EFF(11," stores.items.nameAr "),e.k0s(),e.j41(12,"th",29),e.nrm(13,"i",30),e.EFF(14," stores.items.minimumQuantity "),e.k0s(),e.nrm(15,"th",31),e.k0s())}function je(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",32)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"img",33),e.bIt("error",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.setDefaultImage(t,"assets/images/custom/no-img.jpg"))}),e.k0s()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"button",34),e.nI1(13,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),p=e.sdS(22);return e.Njj(a.editModal(t.id,p,"lg"))}),e.nrm(14,"i",35),e.k0s(),e.j41(15,"button",36),e.nI1(16,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),p=e.sdS(24);return e.Njj(a.openModal(t.id,p))}),e.nrm(17,"i",37),e.k0s()()()}if(2&s){const n=g.$implicit,i=g.rowIndex,t=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.Y8G("src",t.serverPath+n.imagePath,e.B4B),e.R7$(2),e.JRh(n.nameEn),e.R7$(2),e.JRh(n.nameAr),e.R7$(2),e.JRh(n.minimumQuantity),e.R7$(2),e.FS9("pTooltip",e.bMT(13,7,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(16,9,"general.delete"))}}function Ce(s,g){1&s&&(e.j41(0,"div",38),e.EFF(1," general.table.noData"),e.k0s())}function xe(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",39)(1,"div",40),e.nrm(2,"ngb-pagination-info",41),e.j41(3,"table-length",42),e.bIt("lengthChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",43)(5,"ngb-pagination",44),e.bIt("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.pagination.pageNumber,t)||(a.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Te(s,g){1&s&&(e.j41(0,"span",79),e.EFF(1,"general.action.register "),e.k0s())}function Me(s,g){1&s&&(e.j41(0,"span",79),e.EFF(1,"general.action.edit "),e.k0s())}function Re(s,g){1&s&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Fe(s,g){1&s&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ye(s,g){1&s&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function De(s,g){1&s&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Le(s,g){1&s&&(e.j41(0,"div",81),e.nrm(1,"i",82),e.k0s())}function Be(s,g){if(1&s){const n=e.RV6();e.j41(0,"i",83),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.removeImage())}),e.k0s()}}function Ae(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",45)(1,"h4",46),e.DNE(2,Te,2,0,"span",47)(3,Me,2,0,"span",47),e.nrm(4,"span",48),e.k0s(),e.j41(5,"button",49),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",50,3),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",20),e.j41(9,"div",51)(10,"div",52)(11,"div",53)(12,"div",10)(13,"div",54)(14,"label",55),e.EFF(15,"stores.store.title"),e.k0s(),e.j41(16,"div")(17,"ng-select",56,4),e.nI1(19,"translate"),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.storeId,t)||(a.form.storeId=t),e.Njj(t)}),e.k0s(),e.DNE(20,Re,2,0,"div",57),e.k0s()(),e.j41(21,"div",54)(22,"label",55),e.EFF(23,"stores.items.nameEn"),e.k0s(),e.j41(24,"div",58)(25,"input",59,5),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameEn,t)||(a.form.nameEn=t),e.Njj(t)}),e.k0s(),e.DNE(27,Fe,2,0,"div",57),e.k0s()(),e.j41(28,"div",54)(29,"label",60),e.EFF(30,"stores.items.nameAr"),e.k0s(),e.j41(31,"div",58)(32,"input",61,6),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameAr,t)||(a.form.nameAr=t),e.Njj(t)}),e.k0s(),e.DNE(34,ye,2,0,"div",57),e.k0s()(),e.j41(35,"div",54)(36,"label",62),e.EFF(37,"stores.items.minimumQuantity"),e.k0s(),e.j41(38,"div",58)(39,"input",63,7),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.minimumQuantity,t)||(a.form.minimumQuantity=t),e.Njj(t)}),e.k0s(),e.DNE(41,De,2,0,"div",57),e.k0s()(),e.j41(42,"div",64)(43,"div",65)(44,"div",66)(45,"label",67),e.bIt("click",function(){e.eBV(n);const t=e.sdS(49);return e.Njj(t.click())}),e.j41(46,"div",68),e.DNE(47,Le,2,0,"div",69),e.k0s()(),e.j41(48,"input",70,8),e.bIt("change",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.onFileChanged(t))}),e.k0s()(),e.j41(50,"div",71)(51,"div",72),e.DNE(52,Be,1,0,"i",73),e.j41(53,"div",74),e.nrm(54,"img",75),e.k0s()()()()()(),e.j41(55,"div",76),e.nrm(56,"button",77),e.j41(57,"button",78),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&s){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(26),a=e.sdS(33),p=e.sdS(40),d=e.XpG();e.R7$(2),e.Y8G("ngIf",!d.isEditForm),e.R7$(),e.Y8G("ngIf",d.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",d.loaderOperationShap)("loaderId",d.operationLoader),e.R7$(9),e.FS9("placeholder",e.bMT(19,20,"stores.store.title")),e.Y8G("items",d.stores)("multiple",!1),e.R50("ngModel",d.form.storeId),e.R7$(3),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(5),e.R50("ngModel",d.form.nameEn),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(5),e.R50("ngModel",d.form.nameAr),e.R7$(2),e.Y8G("ngIf",a.invalid&&a.touched),e.R7$(5),e.R50("ngModel",d.form.minimumQuantity),e.R7$(2),e.Y8G("ngIf",p.invalid&&p.touched),e.R7$(6),e.Y8G("ngIf",!d.file.path),e.R7$(5),e.Y8G("ngIf",d.file.path),e.R7$(2),e.Y8G("src",d.file.isApi?d.serverPath+d.file.path:d.file.path,e.B4B),e.R7$(2),e.Y8G("disabled",!n.valid)}}function Ve(s,g){if(1&s){const n=e.RV6();e.j41(0,"delete-modal",84),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}const ke=[{path:"list",component:fe,resolve:{data:be},canActivate:[te.g],data:{permission:["order.view"]}},{path:"items",component:(()=>{class s extends v.w{constructor(n,i,t,a,p,d,G,P,X,U,Xe){super(n,i,G,p,t,a,d),this.baseService=p,this.service=P,this.excelService=X,this._formDataService=U,this.router=Xe,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.stores=[{id:1,name:"Store"}],this.isResolveList=!0,this.file={isApi:!1,path:""},this.form={file:""},this.serverPath=A.c.mediaUrl,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,M.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}registerEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.register(n).pipe((0,T.O)(),(0,B.c)(this.mainDelay),(0,o.Z)(),(0,M.Q)(this.notifier),(0,l.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,ve.W)(i=>(0,Se.$)(i))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}editEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.ToEdit(this.form.id,n).pipe((0,T.O)(),(0,B.c)(this.mainDelay),(0,o.Z)(),(0,M.Q)(this.notifier),(0,l.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:a=>{this.form=a.data,this.file={isApi:!0,path:a.data.imagePath}}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,T.O)(),(0,B.c)(this.mainDelay),(0,o.Z)(),(0,M.Q)(this.notifier),(0,l.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onFileChanged(n){if(n.target.files&&n.target.files[0]){let i=n.target.files.length;for(let t=0;t<i;t++){let a=new FileReader;this.form.file=n.target.files.item(t),a.onload=p=>{this.file={isApi:!1,path:p.target.result}},a.readAsDataURL(n.target.files[t])}}}removeImage(){console.log(),this.form.file="",this.file={id:0,path:""}}setDefaultImage(n,i){n.target.src=i}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(x.nX),e.rXU(h.c$),e.rXU(F.u),e.rXU(m.vh),e.rXU(ne),e.rXU(R.eD),e.rXU(u.Bq),e.rXU(Y.m),e.rXU(K.V),e.rXU(Ie.Q),e.rXU(x.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-store-items"]],features:[e.Vt3],decls:25,vars:19,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["formEntity","ngForm"],["storeId","ngModel"],["nameEn","ngModel"],["nameAr","ngModel"],["minimumQuantity","ngModel"],["FileInput",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","name","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["translate","",2,"width","20%"],[1,"fs-5"],["width","50","height","50","alt","Image",2,"border-radius","15px",3,"error","src"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.items.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-6","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],["name","storeId","bindValue","id","bindLabel","name","id","storeId","required","",3,"ngModelChange","items","multiple","placeholder","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","minimumQuantity","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","minimumQuantity","type","text","required","","id","minimumQuantity",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-12","mb-3","d-flex","justify-content-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["placement","right","ngbTooltip","Select Image",1,"mb-0",3,"click"],[1,"avatar-xs"],["class","avatar-title bg-light border rounded-circle text-muted cursor-pointer",4,"ngIf"],["value","","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"d-flex","justify-content-center","w-100"],[1,"avatar-xl-custom","mx-2","position-relative"],["class","position-absolute bx bx-x-circle text-white","style","background: red; top: -3px; right: -4px; font-size: 1rem;\n                                                border-radius: 50% ",3,"click",4,"ngIf"],[1,"avatar-title","bg-light","rounded"],["id","product-img1","alt","",1,"avatar-xl-custom","h-auto",3,"src"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-image-fill"],[1,"position-absolute","bx","bx-x-circle","text-white",2,"background","red","top","-3px","right","-4px","font-size","1rem","border-radius","50%",3,"click"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const a=e.RV6();e.nrm(0,"app-breadcrumbs",9),e.nI1(1,"translate"),e.j41(2,"div",10)(3,"div",11)(4,"div",12)(5,"base-filter",13),e.bIt("reset",function(){return e.eBV(a),e.Njj(t.onReset())})("search",function(){return e.eBV(a),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(a);const d=e.sdS(22);return e.Njj(t.openModalTitle(d,"lg"))}),e.qex(6,14),e.j41(7,"div",15)(8,"div",16)(9,"input",17),e.nI1(10,"translate"),e.mxI("ngModelChange",function(d){return e.eBV(a),e.DH7(t.pagination.filterValue,d)||(t.pagination.filterValue=d),e.Njj(d)}),e.k0s(),e.nrm(11,"i",18),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",19),e.nrm(13,"ngx-ui-loader",20),e.j41(14,"div",21)(15,"p-table",22,0),e.bIt("onLazyLoad",function(d){return e.eBV(a),e.Njj(t.tableChange(d))})("selectionChange",function(d){return e.eBV(a),e.Njj(t.onSelectionChange(d))}),e.DNE(17,Ee,16,0,"ng-template",23)(18,je,18,11,"ng-template",24),e.k0s()(),e.DNE(19,Ce,2,0,"div",25)(20,xe,6,8,"div",26),e.k0s()()()(),e.DNE(21,Ae,58,22,"ng-template",null,1,e.C5r)(23,Ve,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,15,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,17,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[m.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,w.m,W.b,Q.w,H.p,J.g,h.Mm,b.XI,Z.Ei,b.Tg,R.Cv,O.vr,u.md,q.m,L.m,h.D9],encapsulation:2})}}return s})(),resolve:{data:(()=>{class s extends ee.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(x.Ix),e.KVO(ne),e.KVO(F.u))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},canActivate:[te.g],data:{permission:["order.view"]}}];let Ge=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[x.iI.forChild(ke),x.iI]})}}return s})(),Pe=(()=>{class s{constructor(){(0,_.eV)(f().loadAnimation)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[m.MD,c.YN,c.X1,u.zH,u.Pv,u.c9,S.ND,C.r,Ge,E.G,h.h,b.bG,D.q4,V.H_,u.c9,R.th,O.MQ,u.n8,k.j,u._f,L.S]})}}return s})()},75622:(y,j,r)=>{r.d(j,{w:()=>M});var m=r(21413),c=r(56977),u=r(37021),S=r(35335),C=r(45236),_=r(70980),I=r(99437),f=r(18810),E=r(35263),h=r(36158),b=r(54438),D=r(51188),V=r(8147),R=r(69005),O=r(67569),k=r(3888),L=r(60177),x=r(1530);let M=(()=>{class T{constructor(o,l,v,e,F,N,A){this.routerActive=o,this.translateService=l,this.modalService=v,this.baseService=e,this.alertService=F,this.datePipe=N,this.ngxLoader=A,this.title="",this.mainDelay=50,this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new m.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=h.cX,this.loaderOperationShap=h.$$,this.operationLoader=h.ZW,this.loaderDeleteShap=h.jg,this.mainTable=h.uG,this.searchLoader=h.a7,this.deleteLoader=h.Fq,this.langArabic="ar",this.paymentTypes=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,c.Q)(this.notifier)).subscribe(o=>{this.entities=o.data.result,this.pagination=o.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(h.a7)},o=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,c.Q)(this.notifier)).subscribe(o=>{this.lang=o.lang})}getTranslationText(o){let l="";return this.translateService.get(o).pipe((0,c.Q)(this.notifier)).subscribe(v=>{l=v}),l}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(o){return null!=o?o.substring(0,10)+"...":""}getRenderIndex(o){return this.index++,this.index}successDataTable(o){this.ngxLoader.stopLoader(h.a7),this.pagination.totalItems=o.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(h.a7),this.alertService.error()}openModalTitle(o,l="md"){this.isEditForm=!1,this.form={},this.modalService.open(o,{centered:!0,size:l})}openModal(o,l,v="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:o}],this.modalService.open(l,{centered:!0,size:v})}openModalMoreOperation(o){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(l=>l.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(o){this.ngxLoader.startLoader(h.a7),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.ngxLoader.startLoader(h.a7),this.baseService.get(this.pagination).pipe((0,c.Q)(this.notifier)).subscribe(o=>{this.ngxLoader.stopLoader(h.a7),this.entities=o.data,this.pagination.totalItems=o.totalItems,this.LoadSuccess()},o=>{this.ngxLoader.stopLoader(h.a7),this.alertService.error(o)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}LoadSuccess(){}tableChange(o){this.pagination.filterType=o.sortField,this.pagination.sortType=1==o.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let o=this.mapRegisterForm(this.form);this.baseService.register(o).pipe((0,u.O)(),(0,S.c)(this.mainDelay),(0,C.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,I.W)(l=>(0,f.$)(l))).subscribe(l=>{l.success?this.submitFunished():this.alertService.error("general.message."+l.message)},l=>{this.alertService.error("general.message."+l)})}editEntity(){let o=this.mapForm(this.form);this.baseService.edit(o.id,o).pipe((0,u.O)(),(0,S.c)(this.mainDelay),(0,C.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(l=>{l.success?this.submitFunished():this.alertService.error("general.message."+l.message)},l=>{this.alertService.error("general.message."+l)})}mapForm(o){return o}mapRegisterForm(o){return o.id=0,o}submitFunished(){this.alertService.success(),this.loadentities(),this.modalService?.dismissAll(),this.ngxLoader.stop(h.a7),this.btnDisabled=!0}EditModel(o,l,v="md"){this.isEditForm=!0,this.baseService.getById(o).pipe((0,c.Q)(this.notifier)).subscribe(e=>{e.success?this.form=e.data:this.alertService.error("general.message."+e.message),this.modalService.open(l,{centered:!0,size:v})},e=>{this.alertService.error()})}EditModelTilte(o){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,c.Q)(this.notifier)).subscribe(v=>{v?this.form=v:this.alertService.error("general.message."+v)},v=>{this.alertService.error()})}onSelectionChange(o){this.selectedRow=o,this.lengthSelect=o.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(o){this.pagination.pageNumber=o,this.loadentities()}ListItemChange(o){this.pagination.pageSize=o.target.value,this.loadentities()}searchChange(o){this.pagination.filterValue=o,this.loadentities()}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(h.Fq);let o=this.selectedRow.map(l=>l.id);this.baseService.deleteRange(o).pipe((0,u.O)(),(0,S.c)(this.mainDelay),(0,C.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(h.Fq))).subscribe(l=>{l.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+l)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(o=>o.id)}isEmpty(o){return(void 0===o||null==o||o.length)<=0}OnReset(o){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(o){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(l){return new(l||T)(b.rXU(D.nX),b.rXU(V.c$),b.rXU(R.Bq),b.rXU(O.d),b.rXU(k.u),b.rXU(L.vh),b.rXU(x.eD))}}static{this.\u0275cmp=b.VBU({type:T,selectors:[["app-base"]],viewQuery:function(l,v){if(1&l&&b.GBs(E.XI,5),2&l){let e;b.mGM(e=b.lsd())&&(v.tableMaster=e.first)}},decls:0,vars:0,template:function(l,v){},encapsulation:2})}}return T})()},88148:(y,j,r)=>{r.d(j,{p:()=>u});var m=r(54438),c=r(8147);let u=(()=>{class S{static{this.\u0275fac=function(I){return new(I||S)}}static{this.\u0275cmp=m.VBU({type:S,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(I,f){1&I&&(m.j41(0,"span",0),m.EFF(1),m.k0s(),m.nrm(2,"span",1),m.j41(3,"span",0),m.EFF(4),m.k0s(),m.nrm(5,"span",2)),2&I&&(m.R7$(),m.JRh(f.pagination.totalItems>f.pagination.pageNumber*f.pagination.pageSize?f.pagination.pageNumber*f.pagination.pageSize:f.pagination.totalItems),m.R7$(3),m.JRh(f.pagination.totalItems))},dependencies:[c.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return S})()},91580:(y,j,r)=>{r.d(j,{g:()=>C});var m=r(54438),c=r(60177),u=r(89417);function S(_,I){if(1&_&&(m.j41(0,"option"),m.EFF(1),m.k0s()),2&_){const f=I.$implicit;m.R7$(),m.JRh(f)}}let C=(()=>{class _{constructor(){this.lengthChange=new m.bkB}ListItemChange(f){this.lengthChange.emit(f)}static{this.\u0275fac=function(E){return new(E||_)}}static{this.\u0275cmp=m.VBU({type:_,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(E,h){1&E&&(m.j41(0,"div",0),m.nrm(1,"span",1),m.j41(2,"select",2),m.bIt("change",function(D){return h.ListItemChange(D)}),m.DNE(3,S,2,1,"option",3),m.k0s()()),2&E&&(m.R7$(3),m.Y8G("ngForOf",h.lengthTable))},dependencies:[c.Sq,u.xH,u.y7],encapsulation:2})}}return _})()}}]);