"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[558],{10426:(f,p,i)=>{i.d(p,{Z:()=>m});var t=i(67569),o=i(45312),c=i(54438),h=i(21626);let m=(()=>{class r extends t.d{constructor(a){super(a,o.c.apiUrl+"ClientReview/")}ClientReviewLookUp(){return this.http.get(this.baseUrl+"ClientReviewLookUp")}ClientReviewChartCount(a){return this.http.post(this.baseUrl+"ClientReviewChartCount",a)}UpdateReviewQuestion(a){return this.http.post(this.baseUrl+"UpdateReviewQuestion",a)}ClientReviewQuestionEdit(a){return this.http.post(this.baseUrl+"ClientReviewQuestionEdit",a)}GetClientReviewPrice(a){return this.http.post(this.baseUrl+"GetClientReviewPrice",a)}static{this.\u0275fac=function(_){return new(_||r)(c.KVO(h.Qq))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},56131:(f,p,i)=>{i.d(p,{E:()=>c});var t=i(7673),o=i(99437);class c{constructor(m,r,d){this.router=m,this.BaseService=r,this.alertService=d,this.pagination={pageNumber:1,pageSize:10}}resolve(m,r){return this.BaseService.get(this.pagination).pipe((0,o.W)(d=>(this.router.navigate([""]),this.alertService.error(d),(0,t.of)(null))))}}},75622:(f,p,i)=>{i.d(p,{w:()=>P});var t=i(21413),o=i(56977),c=i(37021),h=i(35335),m=i(45236),r=i(70980),d=i(99437),a=i(18810),_=i(56803),n=i(36158),l=i(54438),E=i(51188),v=i(8147),M=i(22960),O=i(67569),L=i(3888),C=i(60177),b=i(1530);let P=(()=>{class D{constructor(e,s,g,u,R,I,S){this.routerActive=e,this.translateService=s,this.modalService=g,this.baseService=u,this.alertService=R,this.datePipe=I,this.ngxLoader=S,this.title="",this.mainDelay=50,this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new t.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=n.cX,this.loaderOperationShap=n.$$,this.operationLoader=n.ZW,this.loaderDeleteShap=n.jg,this.mainTable=n.uG,this.searchLoader=n.a7,this.deleteLoader=n.Fq,this.langArabic="ar",this.entitiesList=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,o.Q)(this.notifier)).subscribe(e=>{this.entities=e.data.result,this.pagination=e.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(n.a7)},e=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,o.Q)(this.notifier)).subscribe(e=>{this.lang=e.lang})}getTranslationText(e){let s="";return this.translateService.get(e).pipe((0,o.Q)(this.notifier)).subscribe(g=>{s=g}),s}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(e){return null!=e?e.substring(0,10)+"...":""}getRenderIndex(e){return this.index++,this.index}successDataTable(e){this.ngxLoader.stopLoader(n.a7),this.pagination.totalItems=e.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(n.a7),this.alertService.error()}openModalTitle(e,s="md"){this.isEditForm=!1,this.form={},this.modalService.open(e,{centered:!0,size:s})}openModal(e,s,g="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:e}],this.modalService.open(s,{centered:!0,size:g})}openModalMoreOperation(e){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(s=>s.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(e){this.ngxLoader.startLoader(n.a7),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.ngxLoader.startLoader(n.a7),this.baseService.get(this.pagination).pipe((0,o.Q)(this.notifier)).subscribe(e=>{this.ngxLoader.stopLoader(n.a7),this.entities=e.data,this.pagination.totalItems=e.totalItems,this.LoadSuccess()},e=>{this.ngxLoader.stopLoader(n.a7),this.alertService.error(e)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}LoadSuccess(){}tableChange(e){this.pagination.filterType=e.sortField,this.pagination.sortType=1==e.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let e=this.mapRegisterForm(this.form);this.baseService.register(e).pipe((0,c.O)(),(0,h.c)(this.mainDelay),(0,m.Z)(),(0,o.Q)(this.notifier),(0,r.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,d.W)(s=>(0,a.$)(s))).subscribe(s=>{s.success?this.submitFunished():this.alertService.error("general.message."+s.message)},s=>{this.alertService.error("general.message."+s)})}editEntity(){let e=this.mapForm(this.form);this.baseService.edit(e.id,e).pipe((0,c.O)(),(0,h.c)(this.mainDelay),(0,m.Z)(),(0,o.Q)(this.notifier),(0,r.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(s=>{s.success?this.submitFunished():this.alertService.error("general.message."+s.message)},s=>{this.alertService.error("general.message."+s)})}mapForm(e){return e}mapRegisterForm(e){return e.id=0,e}submitFunished(){this.alertService.success(),this.loadentities(),this.modalService?.dismissAll(),this.ngxLoader.stop(n.a7),this.btnDisabled=!0}EditModel(e,s,g="md"){this.isEditForm=!0,this.baseService.getById(e).pipe((0,o.Q)(this.notifier)).subscribe(u=>{u.success?this.form=u.data:this.alertService.error("general.message."+u.message),this.modalService.open(s,{centered:!0,size:g})},u=>{this.alertService.error()})}EditModelTilte(e){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,o.Q)(this.notifier)).subscribe(g=>{g?this.form=g:this.alertService.error("general.message."+g)},g=>{this.alertService.error()})}onSelectionChange(e){this.selectedRow=e,this.lengthSelect=e.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(e){this.pagination.pageNumber=e,this.loadentities()}ListItemChange(e){this.pagination.pageSize=e.target.value,this.loadentities()}searchChange(e){this.pagination.filterValue=e,this.loadentities()}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(n.Fq);let e=this.selectedRow.map(s=>s.id);this.baseService.deleteRange(e).pipe((0,c.O)(),(0,h.c)(this.mainDelay),(0,m.Z)(),(0,o.Q)(this.notifier),(0,r.j)(()=>this.ngxLoader.stopLoader(n.Fq))).subscribe(s=>{s.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+s)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(e=>e.id)}isEmpty(e){return(void 0===e||null==e||e.length)<=0}OnReset(e){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(e){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(s){return new(s||D)(l.rXU(E.nX),l.rXU(v.c$),l.rXU(M.Bq),l.rXU(O.d),l.rXU(L.u),l.rXU(C.vh),l.rXU(b.eD))}}static{this.\u0275cmp=l.VBU({type:D,selectors:[["app-base"]],viewQuery:function(s,g){if(1&s&&l.GBs(_.XI,5),2&s){let u;l.mGM(u=l.lsd())&&(g.tableMaster=u.first)}},decls:0,vars:0,template:function(s,g){},encapsulation:2})}}return D})()},15084:(f,p,i)=>{i.d(p,{w:()=>r});var t=i(54438),o=i(36158),c=i(8147),h=i(89417),m=i(1530);let r=(()=>{class d{constructor(){this.titleOperation="",this.loaderOperationShap=o.$$,this.deleteLoader=o.Fq,this.deleteConfirm=new t.bkB,this.dismiss=new t.bkB}deleteConfirmFn(){this.deleteConfirm.emit(!0)}dismissFn(){this.dismiss.emit(!0)}static{this.\u0275fac=function(n){return new(n||d)}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["delete-modal"]],inputs:{titleOperation:"titleOperation"},outputs:{deleteConfirm:"deleteConfirm",dismiss:"dismiss"},decls:15,vars:3,consts:[["formEntity","ngForm"],[3,"ngSubmit"],[3,"hasProgressBar","fgsType","loaderId"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#f7b84b,secondary:#f06548",2,"width","100px","height","100px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],["translate","general.message.areyouSureDelete"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","submit","id","delete","translate","general.action.delete",1,"btn","w-sm","btn-danger"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"]],template:function(n,l){if(1&n){const E=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){return t.eBV(E),t.Njj(l.deleteConfirmFn())}),t.nrm(2,"ngx-ui-loader",2),t.j41(3,"div",3)(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(E),t.Njj(l.dismissFn())}),t.k0s()(),t.j41(6,"div",6)(7,"div",7),t.nrm(8,"lord-icon",8),t.j41(9,"div",9),t.nrm(10,"h4",10)(11,"p",11),t.k0s()(),t.j41(12,"div",12),t.nrm(13,"button",13),t.j41(14,"button",14),t.bIt("click",function(){return t.eBV(E),t.Njj(l.dismissFn())}),t.k0s()()()()()}2&n&&(t.R7$(2),t.Y8G("hasProgressBar",!1)("fgsType",l.loaderOperationShap)("loaderId",l.deleteLoader))},dependencies:[c.Mm,h.qT,h.cb,h.cV,m.Cv],encapsulation:2})}}return d})()},88148:(f,p,i)=>{i.d(p,{p:()=>c});var t=i(54438),o=i(8147);let c=(()=>{class h{static{this.\u0275fac=function(d){return new(d||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(d,a){1&d&&(t.j41(0,"span",0),t.EFF(1),t.k0s(),t.nrm(2,"span",1),t.j41(3,"span",0),t.EFF(4),t.k0s(),t.nrm(5,"span",2)),2&d&&(t.R7$(),t.JRh(a.pagination.totalItems>a.pagination.pageNumber*a.pagination.pageSize?a.pagination.pageNumber*a.pagination.pageSize:a.pagination.totalItems),t.R7$(3),t.JRh(a.pagination.totalItems))},dependencies:[o.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return h})()},91580:(f,p,i)=>{i.d(p,{g:()=>m});var t=i(54438),o=i(60177),c=i(89417);function h(r,d){if(1&r&&(t.j41(0,"option"),t.EFF(1),t.k0s()),2&r){const a=d.$implicit;t.R7$(),t.JRh(a)}}let m=(()=>{class r{constructor(){this.lengthChange=new t.bkB}ListItemChange(a){this.lengthChange.emit(a)}static{this.\u0275fac=function(_){return new(_||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(_,n){1&_&&(t.j41(0,"div",0),t.nrm(1,"span",1),t.j41(2,"select",2),t.bIt("change",function(E){return n.ListItemChange(E)}),t.DNE(3,h,2,1,"option",3),t.k0s()()),2&_&&(t.R7$(3),t.Y8G("ngForOf",n.lengthTable))},dependencies:[o.Sq,c.xH,c.y7],encapsulation:2})}}return r})()}}]);