"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[109],{22109:(ve,_,r)=>{r.r(_),r.d(_,{BasicDataModule:()=>fe});var g=r(60177),m=r(89417),l=r(22960),x=r(32454),j=r(66900),N=r(91022),I=r(70255),R=r(63789),k=r(98982),D=r.n(k),F=r(93887),d=r(8147),h=r(56803),M=r(65430),y=r(41631),f=r(1530),G=r(72510),u=r(51188),E=r(23128),v=r(56977),S=r(75622),e=r(54438),V=r(95279),C=r(3888),X=r(26364),T=r(36158),B=r(53928),L=r(91426),$=r(91580),Y=r(88148),A=r(15084),U=r(40724),P=r(5779);function O(a,s){1&a&&(e.j41(0,"tr",22)(1,"th",23),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",24),e.nrm(4,"i",25),e.EFF(5," hr.employee.employeeName "),e.k0s(),e.j41(6,"th",26),e.nrm(7,"i",25),e.EFF(8," hr.employee.isActive "),e.k0s(),e.nrm(9,"th",27),e.k0s())}function z(a,s){1&a&&e.nrm(0,"span",36)}function H(a,s){1&a&&e.nrm(0,"span",37)}function w(a,s){if(1&a&&(e.EFF(0),e.nI1(1,"date"),e.nrm(2,"br"),e.EFF(3),e.nI1(4,"date"),e.nrm(5,"br"),e.EFF(6)),2&a){const t=e.XpG().$implicit;e.SpI(" Ct: ",e.i5U(1,3,t.creationTime,"yyyy-MM-dd")," "),e.R7$(3),e.SpI(" lM: ",e.i5U(4,6,t.lastModificationTime,"yyyy-MM-dd")," "),e.R7$(3),e.SpI(" Cu: ",t.creatorName," ")}}function Q(a,s){if(1&a){const t=e.RV6();e.j41(0,"tr",28)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.DNE(6,z,1,0,"span",29)(7,H,1,0,"span",30),e.k0s(),e.j41(8,"td"),e.DNE(9,w,7,9,"ng-template",null,4,e.C5r),e.nrm(11,"i",31),e.j41(12,"button",32),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),c=e.sdS(20);return e.Njj(o.EditModel(n.employeeCode,c))}),e.nrm(13,"i",33),e.k0s(),e.j41(14,"button",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),c=e.sdS(22);return e.Njj(o.openModal(n.employeeCode,c))}),e.nrm(15,"i",35),e.k0s()()()}if(2&a){const t=s.$implicit,i=s.rowIndex,n=e.sdS(10);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.employeeName),e.R7$(2),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n)}}function J(a,s){1&a&&(e.j41(0,"div",38),e.EFF(1," general.table.noData"),e.k0s())}function W(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",39)(1,"div",40),e.nrm(2,"ngb-pagination-info",41),e.j41(3,"table-length",42),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",43)(5,"ngb-pagination",44),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function K(a,s){1&a&&(e.j41(0,"span",65),e.EFF(1,"general.action.register "),e.k0s())}function Z(a,s){1&a&&(e.j41(0,"span",65),e.EFF(1,"general.action.edit "),e.k0s())}function q(a,s){1&a&&(e.j41(0,"div",66),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ee(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",45)(1,"div",46)(2,"h4",47),e.DNE(3,K,2,0,"span",48)(4,Z,2,0,"span",48),e.j41(5,"span",49),e.EFF(6),e.k0s()(),e.j41(7,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",51),e.nrm(9,"ngx-ui-loader",52),e.j41(10,"form",53,5),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(12,"div",54)(13,"label",55),e.EFF(14,"hr.employee.employeeName"),e.k0s(),e.j41(15,"input",56,6),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.employeeName,n)||(o.form.employeeName=n),e.Njj(n)}),e.k0s(),e.DNE(17,q,2,0,"div",57),e.k0s(),e.j41(18,"div",58)(19,"label",59),e.EFF(20,"general.table.isActive"),e.k0s(),e.j41(21,"p-inputSwitch",60),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.isActive,n)||(o.form.isActive=n),e.Njj(n)}),e.k0s()(),e.j41(22,"div",61)(23,"button",62),e.nrm(24,"i",63)(25,"span",64),e.k0s()()()()()}if(2&a){const t=e.sdS(11),i=e.sdS(16),n=e.XpG();e.R7$(3),e.Y8G("ngIf",!n.isEditForm),e.R7$(),e.Y8G("ngIf",n.isEditForm),e.R7$(2),e.JRh(n.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(6),e.R50("ngModel",n.form.employeeName),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(4),e.R50("ngModel",n.form.isActive),e.R7$(2),e.Y8G("disabled",!t.valid)}}function te(a,s){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",67),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let ne=(()=>{class a extends S.w{constructor(t,i,n,o,c,p,b,he,ue){super(t,i,b,n,o,c,p),this.baseService=n,this.excelService=ue,this.title="basicData.serviceType.title",this.titleOperation="basicData.serviceType.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.isResolveList=!0,this.employeeTypes=[{id:1,name:"employeeTeam"},{id:2,name:"managment"},{id:3,name:"customerService"}],this.employeeGroups=[],this.countLoad=2,this.configRoute()}ngOnInitMore(){}mapForm(t){return{...t}}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,v.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}mapRegisterForm(t){let i={...t};return i.employeeCode=0,i}OnSearch(t){this.ngxLoader.startLoader(T.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(T.a7),this.loadentities()}configRoute(){}mapExcel(){let t=[];return this.entities.forEach(i=>{t.push({employeeName:i.employeeName,isActive:i.isActive})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"Service Type",[])}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(u.nX),e.rXU(d.c$),e.rXU(B.O),e.rXU(C.u),e.rXU(g.vh),e.rXU(f.eD),e.rXU(l.Bq),e.rXU(e.gRc),e.rXU(L.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["serviceType"]],features:[e.Vt3],decls:23,vars:12,consts:[["control",""],["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["employeeName","ngModel"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","employeeCode","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","hr.employee.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","hr.employee.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],["data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","hr.employee.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","hr.employee.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"hasProgressBar","fgsType","loaderId"],[3,"ngSubmit"],[1,"mb-3"],["for","employeeName","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","employeeName","type","text","id","employeeName","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"base-filter",10),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const p=e.sdS(20);return e.Njj(n.openModalTitle(p,"md"))}),e.qex(4,null,0),e.j41(6,"div",11)(7,"div",12)(8,"input",13),e.nI1(9,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(o),e.DH7(n.pagination.filterValue,p)||(n.pagination.filterValue=p),e.Njj(p)}),e.k0s(),e.nrm(10,"i",14),e.k0s()(),e.bVm(),e.k0s(),e.j41(11,"div",15)(12,"div",16)(13,"p-table",17,1),e.bIt("onLazyLoad",function(p){return e.eBV(o),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(o),e.Njj(n.onSelectionChange(p))}),e.DNE(15,O,10,0,"ng-template",18)(16,Q,16,5,"ng-template",19),e.k0s()(),e.DNE(17,J,2,0,"div",20)(18,W,6,8,"div",21),e.k0s()()()(),e.DNE(19,ee,26,10,"ng-template",null,2,e.C5r)(21,te,1,0,"ng-template",null,3,e.C5r)}2&i&&(e.R7$(3),e.Y8G("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(5),e.FS9("placeholder",e.bMT(9,10,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[g.bT,m.qT,m.me,m.BC,m.cb,m.YS,m.vS,m.cV,l.s5,$.g,Y.p,A.w,U.b,d.Mm,h.XI,P.Ei,h.Tg,y.HW,f.Cv,l.md,g.vh,d.D9],encapsulation:2})}}return a})();function ae(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"label",24),e.EFF(3,"basicData.generalSetting.taskPerfix"),e.k0s(),e.j41(4,"input",25,2),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.taskPerfix,n)||(o.form.taskPerfix=n),e.Njj(n)}),e.k0s()(),e.nrm(6,"div",26),e.j41(7,"div",23)(8,"label",27),e.EFF(9,"basicData.generalSetting.orderPerfix"),e.k0s(),e.j41(10,"input",28,3),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.orderPerfix,n)||(o.form.orderPerfix=n),e.Njj(n)}),e.k0s()()(),e.j41(12,"div",29)(13,"div",30)(14,"button",31),e.nrm(15,"i",32)(16,"span",33),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.form.taskPerfix),e.R7$(6),e.R50("ngModel",t.form.orderPerfix)}}function ie(a,s){1&a&&e.nrm(0,"serviceType")}function oe(a,s){}function re(a,s){}function se(a,s){}function le(a,s){}function me(a,s){}const de=[{path:"setupData",component:(()=>{class a extends S.w{constructor(t,i,n,o,c,p,b){super(t,i,b,n,o,c,p),this.baseService=n,this.title="basicData.setupData.title",this.titleOperation="basicData.setupData.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.shifts=[],this.searchForm="",this.jobTypes=[],this.idForm=0,this.isResolveList=!0}ngOnInitMore(){this.configRoute(),this.breadCrumbItems=[]}mapForm(t){return t.id=null==t.id||null==t.id?0:t.id,this.idForm=t.id,t}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.get(this.pagination).pipe((0,v.Q)(this.notifier)).subscribe(t=>{this.form=t.data,this.LoadSuccess()},t=>{this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,v.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}mapRegisterForm(t){return t}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),this.editEntity()}configRoute(){this.routerActive.data.pipe((0,v.Q)(this.notifier)).subscribe(t=>{this.form=t.data.data},()=>{this.alertService.error()})}submitFunished(){this.alertService.success(),0==this.idForm&&this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(u.nX),e.rXU(d.c$),e.rXU(V.k),e.rXU(C.u),e.rXU(g.vh),e.rXU(f.eD),e.rXU(l.Bq))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-setup-data"]],features:[e.Vt3],decls:33,vars:16,consts:[["formEntity","ngForm"],["ModifierCustom","ngbNav"],["taskPerfix","ngModel"],["orderPerfix","ngModel"],[3,"title","breadcrumbItems"],[1,"col-12"],[1,"card"],[3,"hasProgressBar","fgsType","loaderId"],[3,"ngSubmit"],[1,"card-body"],["ngbNav","",1,"nav","nav-pills","nav-customs","nav-danger","mb-3",3,"activeId"],[3,"ngbNavItem"],["ngbNavLink","","translate","basicData.generalSetting.title",1,"nav-link"],["ngbNavContent",""],["ngbNavLink","","translate","basicData.serviceType.title",1,"nav-link"],["ngbNavLink","","translate","basicData.service.title",1,"nav-link"],["ngbNavLink","","translate","basicData.city.title",1,"nav-link"],["ngbNavLink","","translate","basicData.channel.title",1,"nav-link"],["ngbNavLink","","translate","basicData.cancelReason.title",1,"nav-link"],["ngbNavLink","","translate","basicData.returnReason.title",1,"nav-link"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"row"],[1,"col-12","col-md-4"],["for","taskPerfix","translate","",1,"fw-bold","form-label"],["name","taskPerfix","type","text","id","taskPerfix",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-8"],["for","orderPerfix","translate","",1,"fw-bold","form-label"],["name","orderPerfix","type","text","id","orderPerfix",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"card-footer","border-0","p-1","m-1"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",4),e.nI1(1,"translate"),e.j41(2,"div",5)(3,"div",6),e.nrm(4,"ngx-ui-loader",7),e.j41(5,"form",8,0),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.OnSubmit())}),e.j41(7,"div",9)(8,"ul",10,1)(10,"li",11),e.nrm(11,"a",12),e.DNE(12,ae,17,2,"ng-template",13),e.k0s(),e.j41(13,"li",11),e.nrm(14,"a",14),e.DNE(15,ie,1,0,"ng-template",13),e.k0s(),e.j41(16,"li",11),e.nrm(17,"a",15),e.DNE(18,oe,0,0,"ng-template",13),e.k0s(),e.j41(19,"li",11),e.nrm(20,"a",16),e.DNE(21,re,0,0,"ng-template",13),e.k0s(),e.j41(22,"li",11),e.nrm(23,"a",17),e.DNE(24,se,0,0,"ng-template",13),e.k0s(),e.j41(25,"li",11),e.nrm(26,"a",18),e.DNE(27,le,0,0,"ng-template",13),e.k0s(),e.j41(28,"li",11),e.nrm(29,"a",19),e.DNE(30,me,0,0,"ng-template",13),e.k0s()(),e.j41(31,"div",20),e.nrm(32,"div",21),e.k0s()()()()()}if(2&i){const o=e.sdS(9);e.FS9("title",e.bMT(1,14,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(4),e.Y8G("activeId",1),e.R7$(2),e.Y8G("ngbNavItem",1),e.R7$(3),e.Y8G("ngbNavItem",2),e.R7$(3),e.Y8G("ngbNavItem",3),e.R7$(3),e.Y8G("ngbNavItem",4),e.R7$(3),e.Y8G("ngbNavItem",5),e.R7$(3),e.Y8G("ngbNavItem",6),e.R7$(3),e.Y8G("ngbNavItem",7),e.R7$(4),e.Y8G("ngbNavOutlet",o)}},dependencies:[m.qT,m.me,m.BC,m.cb,m.vS,m.cV,l.Um,l.X9,l.sy,l.Gx,l.Ri,l.WA,l.m_,X.m,d.Mm,f.Cv,ne,d.D9],encapsulation:2})}}return a})(),resolve:{data:r(67649).l},canActivate:[E.B],data:{roles:["admin"]}}];let ge=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(de),u.iI]})}}return a})(),fe=(()=>{class a{constructor(){(0,R.eV)(D().loadAnimation)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[g.MD,m.YN,m.X1,l.zH,l.Pv,l.Gk,l.h_,l.c9,x.A,j.JG,N.ND,I.r,ge,F.G,d.h,h.bG,M.q4,y.H_,l.c9,f.th,G.MQ,l.n8]})}}return a})()}}]);