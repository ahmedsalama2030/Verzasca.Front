"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[277],{56701:(B,S,r)=>{r.d(S,{g:()=>u});var _=r(54438),p=r(62984),f=r(51188),M=r(3888);let u=(()=>{class c{constructor(h,d,g){this.authservice=h,this.router=d,this.alertService=g}canActivate(h){return!!this.authservice.permissionMatch(h.data.permission)||(this.alertService.error("general.notAllow.notAllowPageMessage"),this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(d){return new(d||c)(_.KVO(p.J),_.KVO(f.Ix),_.KVO(M.u))}}static{this.\u0275prov=_.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},75277:(B,S,r)=>{r.r(S),r.d(S,{StoresModule:()=>$e});var _=r(60177),p=r(89417),f=r(69005),M=r(91022),u=r(70255),c=r(63789),b=r(98982),h=r.n(b),d=r(93887),g=r(8147),v=r(35263),x=r(65430),L=r(41631),C=r(1530),X=r(72510),ne=r(71144),k=r(38542),j=r(51188),I=r(56977),T=r(37021),E=r(35335),y=r(45236),F=r(70980),$=r(75622),e=r(54438),R=r(3888),Y=r(67569),V=r(45312),w=r(21626);let U=(()=>{class o extends Y.d{constructor(n){super(n,V.c.apiUrl+"Store/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(w.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var z=r(54384),O=r(91426),P=r(26364),Q=r(40724),H=r(15084),K=r(88148),J=r(91580),W=r(5779),Z=r(29935);function ie(o,m){1&o&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," stores.store.nameEn "),e.k0s(),e.j41(6,"th",26),e.nrm(7,"i",27),e.EFF(8," stores.store.nameAr "),e.k0s(),e.j41(9,"th",28),e.nrm(10,"i",27),e.EFF(11," stores.store.isActive "),e.k0s(),e.j41(12,"th",28),e.nrm(13,"i",27),e.EFF(14," stores.store.isMain "),e.k0s(),e.nrm(15,"th",29),e.k0s())}function oe(o,m){1&o&&e.nrm(0,"span",37)}function ae(o,m){1&o&&e.nrm(0,"span",38)}function re(o,m){1&o&&e.nrm(0,"span",37)}function se(o,m){1&o&&e.nrm(0,"span",38)}function le(o,m){if(1&o){const n=e.RV6();e.j41(0,"tr",30)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,oe,1,0,"span",31)(9,ae,1,0,"span",32),e.k0s(),e.j41(10,"td"),e.DNE(11,re,1,0,"span",31)(12,se,1,0,"span",32),e.k0s(),e.j41(13,"td")(14,"button",33),e.nI1(15,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),l=e.sdS(22);return e.Njj(a.editModal(t.id,l))}),e.nrm(16,"i",34),e.k0s(),e.j41(17,"button",35),e.nI1(18,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),l=e.sdS(24);return e.Njj(a.openModal(t.id,l))}),e.nrm(19,"i",36),e.k0s()()()}if(2&o){const n=m.$implicit,i=m.rowIndex;e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.nameEn),e.R7$(2),e.JRh(n.nameAr),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(2),e.Y8G("ngIf",n.isMain),e.R7$(),e.Y8G("ngIf",!n.isMain),e.R7$(2),e.FS9("pTooltip",e.bMT(15,9,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(18,11,"general.delete"))}}function me(o,m){1&o&&(e.j41(0,"div",39),e.EFF(1," general.table.noData"),e.k0s())}function de(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",40)(1,"div",41),e.nrm(2,"ngb-pagination-info",42),e.j41(3,"table-length",43),e.bIt("lengthChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",44)(5,"ngb-pagination",45),e.bIt("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.pagination.pageNumber,t)||(a.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function ce(o,m){1&o&&(e.j41(0,"span",70),e.EFF(1,"general.action.register "),e.k0s())}function pe(o,m){1&o&&(e.j41(0,"span",70),e.EFF(1,"general.action.edit "),e.k0s())}function ge(o,m){1&o&&(e.j41(0,"div",71),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function fe(o,m){1&o&&(e.j41(0,"div",71),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ue(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",46)(1,"h4",47),e.DNE(2,ce,2,0,"span",48)(3,pe,2,0,"span",48),e.nrm(4,"span",49),e.k0s(),e.j41(5,"button",50),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",51,3),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",52)(10,"div",53)(11,"div",54)(12,"div",7)(13,"div",55)(14,"label",56),e.EFF(15,"stores.store.nameEn"),e.k0s(),e.j41(16,"div",57)(17,"input",58,4),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameEn,t)||(a.form.nameEn=t),e.Njj(t)}),e.k0s(),e.DNE(19,ge,2,0,"div",59),e.k0s()(),e.j41(20,"div",55)(21,"label",60),e.EFF(22,"stores.store.nameAr"),e.k0s(),e.j41(23,"div",57)(24,"input",61,5),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameAr,t)||(a.form.nameAr=t),e.Njj(t)}),e.k0s(),e.DNE(26,fe,2,0,"div",59),e.k0s()(),e.j41(27,"div",62)(28,"label",63),e.EFF(29,"stores.store.isActive"),e.k0s(),e.j41(30,"p-inputSwitch",64),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.isActive,t)||(a.form.isActive=t),e.Njj(t)}),e.k0s()(),e.j41(31,"div",62)(32,"label",65),e.EFF(33,"stores.store.isMain"),e.k0s(),e.j41(34,"p-inputSwitch",66),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.isMain,t)||(a.form.isMain=t),e.Njj(t)}),e.k0s()()(),e.j41(35,"div",67),e.nrm(36,"button",68),e.j41(37,"button",69),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&o){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(9),e.R50("ngModel",a.form.nameEn),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(5),e.R50("ngModel",a.form.nameAr),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.R50("ngModel",a.form.isActive),e.R7$(4),e.R50("ngModel",a.form.isMain),e.R7$(2),e.Y8G("disabled",!n.valid)}}function he(o,m){if(1&o){const n=e.RV6();e.j41(0,"delete-modal",72),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let _e=(()=>{class o extends $.w{constructor(n,i,t,a,l,s,D,N,G,A){super(n,i,D,l,t,a,s),this.baseService=l,this.service=N,this.excelService=G,this.router=A,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,I.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}editEntity(){let n=this.mapForm(this.form);this.baseService.ToEdit(n.id,n).pipe((0,T.O)(),(0,E.c)(this.mainDelay),(0,y.Z)(),(0,I.Q)(this.notifier),(0,F.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:a=>{this.form=a.data}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,T.O)(),(0,E.c)(this.mainDelay),(0,y.Z)(),(0,I.Q)(this.notifier),(0,F.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(j.nX),e.rXU(g.c$),e.rXU(R.u),e.rXU(_.vh),e.rXU(U),e.rXU(C.eD),e.rXU(f.Bq),e.rXU(z.m),e.rXU(O.V),e.rXU(j.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-store"]],features:[e.Vt3],decls:25,vars:19,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","name","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","mobile","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.store.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["for","isMain","translate","",1,"fw-bold","form-label","d-block"],["id","isMain","name","isMain","inputId","isMain",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const a=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"base-filter",10),e.bIt("reset",function(){return e.eBV(a),e.Njj(t.onReset())})("search",function(){return e.eBV(a),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(a);const s=e.sdS(22);return e.Njj(t.openModalTitle(s))}),e.qex(6,11),e.j41(7,"div",12)(8,"div",13)(9,"input",14),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(t.pagination.filterValue,s)||(t.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",15),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",16),e.nrm(13,"ngx-ui-loader",17),e.j41(14,"div",18)(15,"p-table",19,0),e.bIt("onLazyLoad",function(s){return e.eBV(a),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(a),e.Njj(t.onSelectionChange(s))}),e.DNE(17,ie,16,0,"ng-template",20)(18,le,20,13,"ng-template",21),e.k0s()(),e.DNE(19,me,2,0,"div",22)(20,de,6,8,"div",23),e.k0s()()()(),e.DNE(21,ue,38,12,"ng-template",null,1,e.C5r)(23,he,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,15,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,17,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[_.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,f.s5,P.m,Q.b,H.w,K.p,J.g,g.Mm,v.XI,W.Ei,v.Tg,L.HW,C.Cv,Z.m,k.m,g.D9],encapsulation:2})}}return o})();var q=r(56131);let be=(()=>{class o extends q.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(j.Ix),e.KVO(U),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ee=r(56701),ve=r(99437),je=r(18810);let te=(()=>{class o extends Y.d{constructor(n){super(n,V.c.apiUrl+"StoreItem/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(w.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Ie=r(99902);function Se(o,m){1&o&&(e.j41(0,"tr",27)(1,"th",28),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",29),e.nrm(4,"i",30),e.EFF(5," stores.items.image "),e.k0s(),e.j41(6,"th",29),e.nrm(7,"i",30),e.EFF(8," stores.items.nameEn "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",30),e.EFF(11," stores.items.nameAr "),e.k0s(),e.j41(12,"th",29),e.nrm(13,"i",30),e.EFF(14," stores.items.minimumQuantity "),e.k0s(),e.nrm(15,"th",31),e.k0s())}function xe(o,m){if(1&o){const n=e.RV6();e.j41(0,"tr",32)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"img",33),e.bIt("error",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.setDefaultImage(t,"assets/images/custom/no-img.jpg"))}),e.k0s()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"button",34),e.nI1(13,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),l=e.sdS(22);return e.Njj(a.editModal(t.id,l,"lg"))}),e.nrm(14,"i",35),e.k0s(),e.j41(15,"button",36),e.nI1(16,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG(),l=e.sdS(24);return e.Njj(a.openModal(t.id,l))}),e.nrm(17,"i",37),e.k0s()()()}if(2&o){const n=m.$implicit,i=m.rowIndex,t=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.Y8G("src",t.serverPath+n.imagePath,e.B4B),e.R7$(2),e.JRh(n.nameEn),e.R7$(2),e.JRh(n.nameAr),e.R7$(2),e.JRh(n.minimumQuantity),e.R7$(2),e.FS9("pTooltip",e.bMT(13,7,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(16,9,"general.delete"))}}function Ce(o,m){1&o&&(e.j41(0,"div",38),e.EFF(1," general.table.noData"),e.k0s())}function Te(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",39)(1,"div",40),e.nrm(2,"ngb-pagination-info",41),e.j41(3,"table-length",42),e.bIt("lengthChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",43)(5,"ngb-pagination",44),e.bIt("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.pagination.pageNumber,t)||(a.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Ee(o,m){1&o&&(e.j41(0,"span",79),e.EFF(1,"general.action.register "),e.k0s())}function ye(o,m){1&o&&(e.j41(0,"span",79),e.EFF(1,"general.action.edit "),e.k0s())}function Fe(o,m){1&o&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Re(o,m){1&o&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Me(o,m){1&o&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ke(o,m){1&o&&(e.j41(0,"div",80),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Ve(o,m){1&o&&(e.j41(0,"div",81),e.nrm(1,"i",82),e.k0s())}function De(o,m){if(1&o){const n=e.RV6();e.j41(0,"i",83),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.removeImage())}),e.k0s()}}function Ne(o,m){if(1&o){const n=e.RV6();e.j41(0,"div",45)(1,"h4",46),e.DNE(2,Ee,2,0,"span",47)(3,ye,2,0,"span",47),e.nrm(4,"span",48),e.k0s(),e.j41(5,"button",49),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",50,3),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",20),e.j41(9,"div",51)(10,"div",52)(11,"div",53)(12,"div",10)(13,"div",54)(14,"label",55),e.EFF(15,"stores.store.title"),e.k0s(),e.j41(16,"div")(17,"ng-select",56,4),e.nI1(19,"translate"),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.storeId,t)||(a.form.storeId=t),e.Njj(t)}),e.k0s(),e.DNE(20,Fe,2,0,"div",57),e.k0s()(),e.j41(21,"div",54)(22,"label",55),e.EFF(23,"stores.items.nameEn"),e.k0s(),e.j41(24,"div",58)(25,"input",59,5),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameEn,t)||(a.form.nameEn=t),e.Njj(t)}),e.k0s(),e.DNE(27,Re,2,0,"div",57),e.k0s()(),e.j41(28,"div",54)(29,"label",60),e.EFF(30,"stores.items.nameAr"),e.k0s(),e.j41(31,"div",58)(32,"input",61,6),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.nameAr,t)||(a.form.nameAr=t),e.Njj(t)}),e.k0s(),e.DNE(34,Me,2,0,"div",57),e.k0s()(),e.j41(35,"div",54)(36,"label",62),e.EFF(37,"stores.items.minimumQuantity"),e.k0s(),e.j41(38,"div",58)(39,"input",63,7),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.form.minimumQuantity,t)||(a.form.minimumQuantity=t),e.Njj(t)}),e.k0s(),e.DNE(41,ke,2,0,"div",57),e.k0s()(),e.j41(42,"div",64)(43,"div",65)(44,"div",66)(45,"label",67),e.bIt("click",function(){e.eBV(n);const t=e.sdS(49);return e.Njj(t.click())}),e.j41(46,"div",68),e.DNE(47,Ve,2,0,"div",69),e.k0s()(),e.j41(48,"input",70,8),e.bIt("change",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.onFileChanged(t))}),e.k0s()(),e.j41(50,"div",71)(51,"div",72),e.DNE(52,De,1,0,"i",73),e.j41(53,"div",74),e.nrm(54,"img",75),e.k0s()()()()()(),e.j41(55,"div",76),e.nrm(56,"button",77),e.j41(57,"button",78),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&o){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(26),a=e.sdS(33),l=e.sdS(40),s=e.XpG();e.R7$(2),e.Y8G("ngIf",!s.isEditForm),e.R7$(),e.Y8G("ngIf",s.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",s.loaderOperationShap)("loaderId",s.operationLoader),e.R7$(9),e.FS9("placeholder",e.bMT(19,20,"stores.store.title")),e.Y8G("items",s.stores)("multiple",!1),e.R50("ngModel",s.form.storeId),e.R7$(3),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(5),e.R50("ngModel",s.form.nameEn),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(5),e.R50("ngModel",s.form.nameAr),e.R7$(2),e.Y8G("ngIf",a.invalid&&a.touched),e.R7$(5),e.R50("ngModel",s.form.minimumQuantity),e.R7$(2),e.Y8G("ngIf",l.invalid&&l.touched),e.R7$(6),e.Y8G("ngIf",!s.file.path),e.R7$(5),e.Y8G("ngIf",s.file.path),e.R7$(2),e.Y8G("src",s.file.isApi?s.serverPath+s.file.path:s.file.path,e.B4B),e.R7$(2),e.Y8G("disabled",!n.valid)}}function Ge(o,m){if(1&o){const n=e.RV6();e.j41(0,"delete-modal",84),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}const Le=[{path:"list",component:_e,resolve:{data:be},canActivate:[ee.g],data:{permission:["order.view"]}},{path:"items",component:(()=>{class o extends $.w{constructor(n,i,t,a,l,s,D,N,G,A,Ye){super(n,i,D,l,t,a,s),this.baseService=l,this.service=N,this.excelService=G,this._formDataService=A,this.router=Ye,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.stores=[{id:1,name:"Store"}],this.isResolveList=!0,this.file={isApi:!1,path:""},this.form={file:""},this.serverPath=V.c.mediaUrl,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,I.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}registerEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.register(n).pipe((0,T.O)(),(0,E.c)(this.mainDelay),(0,y.Z)(),(0,I.Q)(this.notifier),(0,F.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,ve.W)(i=>(0,je.$)(i))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}editEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.ToEdit(this.form.id,n).pipe((0,T.O)(),(0,E.c)(this.mainDelay),(0,y.Z)(),(0,I.Q)(this.notifier),(0,F.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:a=>{this.form=a.data,this.file={isApi:!0,path:a.data.imagePath}}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,T.O)(),(0,E.c)(this.mainDelay),(0,y.Z)(),(0,I.Q)(this.notifier),(0,F.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onFileChanged(n){if(n.target.files&&n.target.files[0]){let i=n.target.files.length;for(let t=0;t<i;t++){let a=new FileReader;this.form.file=n.target.files.item(t),a.onload=l=>{this.file={isApi:!1,path:l.target.result}},a.readAsDataURL(n.target.files[t])}}}removeImage(){console.log(),this.form.file="",this.file={id:0,path:""}}setDefaultImage(n,i){n.target.src=i}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(j.nX),e.rXU(g.c$),e.rXU(R.u),e.rXU(_.vh),e.rXU(te),e.rXU(C.eD),e.rXU(f.Bq),e.rXU(z.m),e.rXU(O.V),e.rXU(Ie.Q),e.rXU(j.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-store-items"]],features:[e.Vt3],decls:25,vars:19,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["formEntity","ngForm"],["storeId","ngModel"],["nameEn","ngModel"],["nameAr","ngModel"],["minimumQuantity","ngModel"],["FileInput",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","name","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["translate","",2,"width","20%"],[1,"fs-5"],["width","50","height","50","alt","Image",2,"border-radius","15px",3,"error","src"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.items.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-6","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],["name","storeId","bindValue","id","bindLabel","name","id","storeId","required","",3,"ngModelChange","items","multiple","placeholder","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","minimumQuantity","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","minimumQuantity","type","text","required","","id","minimumQuantity",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-12","mb-3","d-flex","justify-content-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["placement","right","ngbTooltip","Select Image",1,"mb-0",3,"click"],[1,"avatar-xs"],["class","avatar-title bg-light border rounded-circle text-muted cursor-pointer",4,"ngIf"],["value","","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"d-flex","justify-content-center","w-100"],[1,"avatar-xl-custom","mx-2","position-relative"],["class","position-absolute bx bx-x-circle text-white","style","background: red; top: -3px; right: -4px; font-size: 1rem;\n                                                border-radius: 50% ",3,"click",4,"ngIf"],[1,"avatar-title","bg-light","rounded"],["id","product-img1","alt","",1,"avatar-xl-custom","h-auto",3,"src"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-image-fill"],[1,"position-absolute","bx","bx-x-circle","text-white",2,"background","red","top","-3px","right","-4px","font-size","1rem","border-radius","50%",3,"click"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const a=e.RV6();e.nrm(0,"app-breadcrumbs",9),e.nI1(1,"translate"),e.j41(2,"div",10)(3,"div",11)(4,"div",12)(5,"base-filter",13),e.bIt("reset",function(){return e.eBV(a),e.Njj(t.onReset())})("search",function(){return e.eBV(a),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(a);const s=e.sdS(22);return e.Njj(t.openModalTitle(s,"lg"))}),e.qex(6,14),e.j41(7,"div",15)(8,"div",16)(9,"input",17),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(t.pagination.filterValue,s)||(t.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",18),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",19),e.nrm(13,"ngx-ui-loader",20),e.j41(14,"div",21)(15,"p-table",22,0),e.bIt("onLazyLoad",function(s){return e.eBV(a),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(a),e.Njj(t.onSelectionChange(s))}),e.DNE(17,Se,16,0,"ng-template",23)(18,xe,18,11,"ng-template",24),e.k0s()(),e.DNE(19,Ce,2,0,"div",25)(20,Te,6,8,"div",26),e.k0s()()()(),e.DNE(21,Ne,58,22,"ng-template",null,1,e.C5r)(23,Ge,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,15,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,17,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[_.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,f.s5,P.m,Q.b,H.w,K.p,J.g,g.Mm,v.XI,W.Ei,v.Tg,C.Cv,X.vr,f.md,Z.m,k.m,g.D9],encapsulation:2})}}return o})(),resolve:{data:(()=>{class o extends q.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(j.Ix),e.KVO(te),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},canActivate:[ee.g],data:{permission:["order.view"]}}];let Xe=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[j.iI.forChild(Le),j.iI]})}}return o})(),$e=(()=>{class o{constructor(){(0,c.eV)(h().loadAnimation)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[_.MD,p.YN,p.X1,f.zH,f.Pv,f.c9,M.ND,u.r,Xe,d.G,g.h,v.bG,x.q4,L.H_,f.c9,C.th,X.MQ,f.n8,ne.j,f._f,k.S]})}}return o})()},99902:(B,S,r)=>{r.d(S,{Q:()=>p});var _=r(54438);let p=(()=>{class f{constructor(){}formatFormData(u){const c=new FormData,b=(h,d)=>{if(null!=d)if(d instanceof File||d instanceof Blob)c.append(h,d);else if(Array.isArray(d))d.forEach((g,v)=>{if("object"==typeof g&&null!==g)for(const x in g)g.hasOwnProperty(x)&&b(`${h}[${v}].${x}`,g[x]);else b(`${h}[${v}]`,g)});else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&b(`${h}.${g}`,d[g]);else c.append(h,d)};for(const h in u)u.hasOwnProperty(h)&&b(h,u[h]);return c}formatBody(u){for(const c in u)Array.isArray(u[c])&&u[c].length>0?Object?.keys(u[c][0])?.length>1&&u[c].forEach((b,h)=>{for(const d in b)(!b[d]||0===b[d])&&delete b[d]}):!u[c]&&!1!==u[c]&&delete u[c];return u}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()}}]);