"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[170],{56701:(O,x,l)=>{l.d(x,{g:()=>F});var c=l(54438),d=l(62984),_=l(51188),T=l(3888);let F=(()=>{class b{constructor(u,k,h){this.authservice=u,this.router=k,this.alertService=h}canActivate(u){return!!this.authservice.permissionMatch(u.data.permission)||(this.alertService.error("general.notAllow.notAllowPageMessage"),this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(k){return new(k||b)(c.KVO(d.J),c.KVO(_.Ix),c.KVO(T.u))}}static{this.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},56131:(O,x,l)=>{l.d(x,{E:()=>_});var c=l(7673),d=l(99437);class _{constructor(F,b,I){this.router=F,this.BaseService=b,this.alertService=I,this.pagination={pageNumber:1,pageSize:10}}resolve(F,b){return this.BaseService.get(this.pagination).pipe((0,d.W)(I=>(this.router.navigate([""]),this.alertService.error(I),(0,c.of)(null))))}}},79170:(O,x,l)=>{l.r(x),l.d(x,{HRModule:()=>_n});var c=l(60177),d=l(89417),_=l(69005),T=l(32454),F=l(66900),b=l(91022),I=l(70255),u=l(51188),k=l(21413),h=l(56977),v=l(37021),S=l(35335),w=l(45236),B=l(70980),K=l(99437),J=l(18810),j=l(36158),e=l(54438),C=l(8147),R=l(67569),z=l(45312),m=l(21626);let g=(()=>{class a extends R.d{constructor(n){super(n,z.c.apiUrl+"Employee/")}GetEmployeeLookup(){return this.http.get(this.baseUrl+"GetEmployeeLookup")}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(m.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var f=l(3888),y=l(1530),G=l(26364),D=l(41631),N=l(72510),X=l(29935);function ce(a,r){1&a&&(e.j41(0,"div",42),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ge(a,r){1&a&&(e.j41(0,"div",42),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function _e(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",23)(1,"div",24)(2,"label",25),e.EFF(3,"hr.employee.employeeName"),e.k0s(),e.j41(4,"input",26,2),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeName,t)||(i.form.employeeName=t),e.Njj(t)}),e.k0s(),e.DNE(6,ce,2,0,"div",27),e.k0s(),e.j41(7,"div",24)(8,"label",28),e.EFF(9,"hr.employee.mobile"),e.k0s(),e.j41(10,"input",29,3),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.mobile,t)||(i.form.mobile=t),e.Njj(t)}),e.k0s()(),e.j41(12,"div",24)(13,"label",30),e.EFF(14,"hr.employee.email"),e.k0s(),e.j41(15,"input",31,4),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.email,t)||(i.form.email=t),e.Njj(t)}),e.k0s()(),e.j41(17,"div",24)(18,"label",32),e.EFF(19,"hr.employee.employeeType"),e.k0s(),e.j41(20,"ng-select",33),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeType,t)||(i.form.employeeType=t),e.Njj(t)}),e.k0s()(),e.j41(21,"div",24)(22,"label",32),e.EFF(23,"hr.employee.employeeGroupName"),e.k0s(),e.j41(24,"ng-select",34),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeGroup,t)||(i.form.employeeGroup=t),e.Njj(t)}),e.k0s()(),e.j41(25,"div",24)(26,"label",35),e.EFF(27,"hr.employee.dayOff"),e.k0s(),e.j41(28,"ng-select",36),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeDayOff,t)||(i.form.employeeDayOff=t),e.Njj(t)}),e.k0s()(),e.j41(29,"div",24)(30,"label",37),e.EFF(31,"hr.employeeHoliday.note"),e.k0s(),e.j41(32,"input",38,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.notes,t)||(i.form.notes=t),e.Njj(t)}),e.k0s(),e.DNE(34,ge,2,0,"div",27),e.k0s(),e.j41(35,"div",39)(36,"label",40),e.EFF(37,"general.table.isActive"),e.k0s(),e.j41(38,"p-inputSwitch",41),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.isActive,t)||(i.form.isActive=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.sdS(5),o=e.sdS(33),t=e.XpG();e.R7$(4),e.R50("ngModel",t.form.employeeName),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",t.form.mobile),e.R7$(5),e.R50("ngModel",t.form.email),e.R7$(5),e.Y8G("items",t.employeeTypes)("multiple",!1),e.R50("ngModel",t.form.employeeType),e.R7$(4),e.Y8G("items",t.employeeGroups)("multiple",!1),e.R50("ngModel",t.form.employeeGroup),e.R7$(4),e.Y8G("items",t.weekDays)("multiple",!0),e.R50("ngModel",t.form.employeeDayOff),e.R7$(4),e.R50("ngModel",t.form.notes),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.R50("ngModel",t.form.isActive)}}let Q=(()=>{class a{constructor(n,o,t,i,p,s,M,L){this.routerActive=n,this.translateService=o,this.baseService=t,this.alertService=i,this.datePipe=p,this.modalService=s,this.ngxLoader=M,this.router=L,this.editEmployee="hr.employee.editEmployee",this.addEmployee="hr.employee.addEmployee",this.titleOperation="basicData.generalSetting.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.shifts=[],this.searchForm="",this.jobTypes=[],this.weekDays=[],this.breadCrumbItems=[],this.form={},this.idForm=0,this.isResolveList=!0,this.employeeTypes=[{id:1,name:"employeeTeam"},{id:2,name:"managment"},{id:3,name:"customerService"}],this.employeeGroups=[],this.notifier=new k.B,this.mainDelay=100,this.loaderSearchShap=j.cX,this.loaderOperationShap=j.$$,this.operationLoader=j.ZW,this.isEditForm=!1}ngOnDestroy(){this.notifier.next(),this.notifier.complete()}ngOnInit(){this.GetEmployeeLookup(),this.configRoute(),this.breadCrumbItems=[{label:"layout.sidebar.hr"},{label:"hr.employee.title",active:!0},{label:this.isEditForm?"general.action.edit":"general.action.register",active:!0}]}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.isEditForm=!0,this.form=n.data.data},()=>{this.alertService.error()})}GetEmployeeLookup(){this.baseService.GetEmployeeLookup().subscribe(n=>{let o=n.data.employeeGroups,t=n.data.weekDays;o.forEach(i=>{i.name=this.getTranslationText("securityManagement.user."+i.name)}),t.forEach(i=>{i.name=this.getTranslationText("hr.employee."+i.name)}),this.employeeTypes.forEach(i=>{i.name=this.getTranslationText("hr.employee."+i.name)}),this.weekDays=t,this.employeeGroups=o},n=>{console.log(n)})}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}mapForm(n){let o={...n};return o.id=o.employeeCode,o.employeeDayOff=o.employeeDayOff.map(t=>({weekDay:t,employeeId:o.employeeCode})),o}mapRegisterForm(n){let o={...n};return o.employeeCode=0,o.employeeDayOff=o.employeeDayOff.map(t=>({weekDay:t,employeeId:0})),o}registerEntity(){this.ngxLoader.startLoader(j.ZW);let n=this.mapRegisterForm(this.form);this.baseService.register(n).pipe((0,v.O)(),(0,S.c)(this.mainDelay),(0,w.Z)(),(0,h.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(j.ZW)),(0,K.W)(o=>(0,J.$)(o))).subscribe(o=>{o.success?(this.alertService.success(),this.router.navigateByUrl("/hr/employees/")):this.alertService.error("general.message."+o.message)},o=>{this.alertService.error("general.message."+o)})}editEntity(){this.ngxLoader.startLoader(j.ZW);let n=this.mapForm(this.form);this.baseService.edit(n.id,n).pipe((0,v.O)(),(0,S.c)(this.mainDelay),(0,w.Z)(),(0,h.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(j.ZW))).subscribe(o=>{o.success?this.alertService.success():this.alertService.error("general.message."+o.message)},o=>{this.alertService.error("general.message."+o)})}getTranslationText(n){let o="";return this.translateService.get(n).pipe((0,h.Q)(this.notifier)).subscribe(t=>{o=t}),o}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(g),e.rXU(f.u),e.rXU(c.vh),e.rXU(_.Bq),e.rXU(y.eD),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-operation"]],decls:20,vars:10,consts:[["formEntity","ngForm"],["ModifierCustom","ngbNav"],["employeeName","ngModel"],["mobile","ngModel"],["email","ngModel"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"col-12"],[1,"card"],[3,"hasProgressBar","fgsType","loaderId"],[3,"ngSubmit"],[1,"card-body"],["ngbNav","",1,"nav","nav-pills","nav-customs","nav-danger","mb-3",3,"activeId"],[3,"ngbNavItem"],["ngbNavLink","","translate","hr.employee.basicInfo",1,"nav-link"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"card-footer"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],[1,"row"],[1,"col-12","col-md-6"],["for","employeeName","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","employeeName","type","text","id","employeeName","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","mobile","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","mobile","type","text","id","mobile",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","email","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","email","type","text","id","email",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","employeeType","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","employeeGroup","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["translate","",1,"fw-bold","form-label","w-100"],["name","employeeDayOff","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["translate","",1,"text-danger","text-center"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8),e.nrm(4,"ngx-ui-loader",9),e.j41(5,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(t.OnSubmit())}),e.j41(7,"div",11)(8,"ul",12,1)(10,"li",13),e.nrm(11,"a",14),e.DNE(12,_e,39,16,"ng-template",15),e.k0s()(),e.j41(13,"div",16),e.nrm(14,"div",17),e.k0s()(),e.j41(15,"div",18)(16,"div",19)(17,"button",20),e.nrm(18,"i",21)(19,"span",22),e.k0s()()()()()()}if(2&o){const i=e.sdS(9);e.FS9("title",0==t.isEditForm?t.addEmployee:e.bMT(1,8,t.editEmployee)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(4),e.Y8G("activeId",1),e.R7$(2),e.Y8G("ngbNavItem",1),e.R7$(4),e.Y8G("ngbNavOutlet",i)}},dependencies:[c.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_,G.m,C.Mm,D.HW,y.Cv,N.vr,X.m,C.D9],encapsulation:2})}}return a})();var $=l(75622),Z=l(91426),q=l(40724),H=l(15084),Y=l(88148),U=l(91580),E=l(35263),P=l(5779),A=l(94575);const he=()=>["employee.register"],ue=()=>["employee.edit"],fe=()=>["employee.delete"];function be(a,r){if(1&a&&(e.qex(0),e.j41(1,"option",34),e.EFF(2),e.k0s(),e.bVm()),2&a){const n=r.$implicit;e.R7$(),e.Y8G("value",n.id),e.R7$(),e.JRh(n.name)}}function ye(a,r){if(1&a&&(e.qex(0),e.j41(1,"option",34),e.EFF(2),e.k0s(),e.bVm()),2&a){const n=r.$implicit;e.R7$(),e.Y8G("value",n.id),e.R7$(),e.JRh(n.name)}}function Ce(a,r){1&a&&(e.j41(0,"tr",35)(1,"th",36),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",37),e.nrm(4,"i",38),e.EFF(5," hr.employee.employeeName "),e.k0s(),e.j41(6,"th",39),e.nrm(7,"i",38),e.EFF(8," hr.employee.mobile "),e.k0s(),e.j41(9,"th",40),e.nrm(10,"i",38),e.EFF(11," hr.employee.employeeTypeName "),e.k0s(),e.j41(12,"th",41),e.nrm(13,"i",38),e.EFF(14," hr.employee.employeeGroupName "),e.k0s(),e.j41(15,"th",42),e.nrm(16,"i",38),e.EFF(17," hr.employee.isActive "),e.k0s(),e.nrm(18,"th",43),e.k0s())}function ve(a,r){1&a&&e.nrm(0,"span",54)}function Te(a,r){1&a&&e.nrm(0,"span",55)}function je(a,r){1&a&&e.nrm(0,"span",56)}function Ee(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,"securityManagement.user."+n.employeeGroupName),"")}}function Ie(a,r){1&a&&e.nrm(0,"span",57)}function ke(a,r){1&a&&e.nrm(0,"span",58)}function xe(a,r){if(1&a&&(e.EFF(0),e.nI1(1,"date"),e.nrm(2,"br"),e.EFF(3),e.nI1(4,"date"),e.nrm(5,"br"),e.EFF(6)),2&a){const n=e.XpG().$implicit;e.SpI(" Ct: ",e.i5U(1,3,n.creationTime,"yyyy-MM-dd")," "),e.R7$(3),e.SpI(" lM: ",e.i5U(4,6,n.lastModificationTime,"yyyy-MM-dd")," "),e.R7$(3),e.SpI(" Cu: ",n.creatorName," ")}}function Fe(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG();return e.Njj(i.goEmployeeEdit(t.employeeCode))}),e.nrm(1,"i",60),e.k0s()}}function Me(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",61),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(35);return e.Njj(i.openModal(t.employeeCode,p))}),e.nrm(1,"i",62),e.k0s()}}function Re(a,r){if(1&a&&(e.j41(0,"tr",44)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,ve,1,0,"span",45)(9,Te,1,0,"span",46)(10,je,1,0,"span",47),e.k0s(),e.j41(11,"td"),e.DNE(12,Ee,3,3,"span",48),e.k0s(),e.j41(13,"td"),e.DNE(14,Ie,1,0,"span",49)(15,ke,1,0,"span",50),e.k0s(),e.j41(16,"td"),e.DNE(17,xe,7,9,"ng-template",null,3,e.C5r),e.nrm(19,"i",51),e.DNE(20,Fe,2,0,"button",52)(21,Me,2,0,"button",53),e.k0s()()),2&a){const n=r.$implicit,o=r.rowIndex,t=e.sdS(18);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(n.employeeName),e.R7$(2),e.JRh(n.mobile),e.R7$(2),e.Y8G("ngIf",1==n.employeeType),e.R7$(),e.Y8G("ngIf",2==n.employeeType),e.R7$(),e.Y8G("ngIf",3==n.employeeType),e.R7$(2),e.Y8G("ngIf",n.employeeGroupName),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.Y8G("hasPermission",e.lJ4(12,ue)),e.R7$(),e.Y8G("hasPermission",e.lJ4(13,fe))}}function Se(a,r){1&a&&(e.j41(0,"div",63),e.EFF(1," general.table.noData"),e.k0s())}function Ge(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",64)(1,"div",65),e.nrm(2,"ngb-pagination-info",66),e.j41(3,"table-length",67),e.bIt("lengthChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",68)(5,"ngb-pagination",69),e.bIt("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.pagination.pageNumber,t)||(i.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Ne(a,r){1&a&&(e.j41(0,"span",98),e.EFF(1,"general.action.register "),e.k0s())}function De(a,r){1&a&&(e.j41(0,"span",98),e.EFF(1,"general.action.edit "),e.k0s())}function Ve(a,r){1&a&&(e.j41(0,"div",99),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Le(a,r){1&a&&(e.j41(0,"div",99),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function we(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",70)(1,"div",71)(2,"h4",72),e.DNE(3,Ne,2,0,"span",73)(4,De,2,0,"span",73),e.j41(5,"span",74),e.EFF(6),e.k0s()(),e.j41(7,"button",75),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",76),e.nrm(9,"ngx-ui-loader",27),e.j41(10,"form",77,4),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.OnSubmit())}),e.j41(12,"div",78)(13,"label",79),e.EFF(14,"hr.employee.employeeName"),e.k0s(),e.j41(15,"input",80,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeName,t)||(i.form.employeeName=t),e.Njj(t)}),e.k0s(),e.DNE(17,Ve,2,0,"div",81),e.k0s(),e.j41(18,"div",78)(19,"label",82),e.EFF(20,"hr.employee.mobile"),e.k0s(),e.j41(21,"input",83,6),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.mobile,t)||(i.form.mobile=t),e.Njj(t)}),e.k0s()(),e.j41(23,"div",78)(24,"label",84),e.EFF(25,"hr.employee.email"),e.k0s(),e.j41(26,"input",85,7),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.email,t)||(i.form.email=t),e.Njj(t)}),e.k0s()(),e.j41(28,"div",78)(29,"label",86),e.EFF(30,"hr.employee.employeeType"),e.k0s(),e.j41(31,"ng-select",87),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeType,t)||(i.form.employeeType=t),e.Njj(t)}),e.k0s()(),e.j41(32,"div",78)(33,"label",86),e.EFF(34,"hr.employee.employeeGroupName"),e.k0s(),e.j41(35,"ng-select",88),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeGroup,t)||(i.form.employeeGroup=t),e.Njj(t)}),e.k0s()(),e.j41(36,"div",78)(37,"label",89),e.EFF(38,"hr.employeeHoliday.note"),e.k0s(),e.j41(39,"input",90,8),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.notes,t)||(i.form.notes=t),e.Njj(t)}),e.k0s(),e.DNE(41,Le,2,0,"div",81),e.k0s(),e.j41(42,"div",91)(43,"label",92),e.EFF(44,"general.table.isActive"),e.k0s(),e.j41(45,"p-inputSwitch",93),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.isActive,t)||(i.form.isActive=t),e.Njj(t)}),e.k0s()(),e.j41(46,"div",94)(47,"button",95),e.nrm(48,"i",96)(49,"span",97),e.k0s()()()()()}if(2&a){const n=e.sdS(11),o=e.sdS(16),t=e.sdS(40),i=e.XpG();e.R7$(3),e.Y8G("ngIf",!i.isEditForm),e.R7$(),e.Y8G("ngIf",i.isEditForm),e.R7$(2),e.JRh(i.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",i.loaderOperationShap)("loaderId",i.operationLoader),e.R7$(6),e.R50("ngModel",i.form.employeeName),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.R50("ngModel",i.form.mobile),e.R7$(5),e.R50("ngModel",i.form.email),e.R7$(5),e.Y8G("items",i.employeeTypes)("multiple",!1),e.R50("ngModel",i.form.employeeType),e.R7$(4),e.Y8G("items",i.employeeGroups)("multiple",!1),e.R50("ngModel",i.form.employeeGroup),e.R7$(4),e.R50("ngModel",i.form.notes),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.R50("ngModel",i.form.isActive),e.R7$(2),e.Y8G("disabled",!n.valid)}}function Be(a,r){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",100),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let ne=(()=>{class a extends $.w{constructor(n,o,t,i,p,s,M,L,te,hn){super(n,o,M,t,i,p,s),this.baseService=t,this.excelService=te,this.router=hn,this.title="hr.employee.title",this.titleOperation="hr.employee.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm="",this.isResolveList=!0,this.employeeTypes=[{id:1,name:"employeeTeam"},{id:2,name:"managment"},{id:3,name:"customerService"}],this.employeeGroups=[],this.configRoute()}ngOnInitMore(){this.GetEmployeeLookup(),this.breadCrumbItems=[{label:"layout.sidebar.hr"},{label:this.title,active:!0}]}onUpdateIsActive(n){this.baseService.updateActive(n).pipe((0,h.Q)(this.notifier)).subscribe(o=>{o?this.alertService.success():this.alertService.error("general.message."+o)},o=>{this.alertService.error()})}GetEmployeeLookup(){this.baseService.GetEmployeeLookup().subscribe(n=>{let o=n.data.employeeGroups;o.forEach(t=>{t.name=this.getTranslationText("securityManagement.user."+t.name)}),this.employeeTypes.forEach(t=>{t.name=this.getTranslationText("hr.employee."+t.name)}),this.employeeGroups=o},n=>{console.log(n)})}OnSearch(n){this.pagination.employeeGroup=+this.pagination.employeeGroup,this.ngxLoader.startLoader(j.a7),this.loadentities()}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let n=[];return this.entities.forEach(o=>{n.push({employeeName:o.employeeName,isActive:o.isActive})}),n}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Employees",[])}onSearch(){this.ngxLoader.startLoader(j.a7),this.loadentities()}goEmployeeRegister(){this.router.navigateByUrl("/hr/employees/register")}goEmployeeEdit(n){this.router.navigateByUrl("/hr/employees/edit",{state:{id:n}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(g),e.rXU(f.u),e.rXU(c.vh),e.rXU(y.eD),e.rXU(_.Bq),e.rXU(e.gRc),e.rXU(Z.V),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee"]],features:[e.Vt3],decls:36,vars:25,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["employeeName","ngModel"],["mobile","ngModel"],["email","ngModel"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search name",1,"form-control","search","bg-light","border-light",3,"ngModelChange","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-2","mb-2"],["placeholder","Mobile  ","type","search","id","mobile","mode","range",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","ngModel"],[1,"input-light"],["placeholder","Employee Type  ","name","employeeType","data-choices","","data-choices-search-false","","id","status-field",1,"form-control","border-light","bg-light",3,"ngModelChange","ngModel"],["translate","general.table.notSelect",1,"fs-6",3,"value"],[4,"ngFor","ngForOf"],["placeholder","Employee Group","name","employeeGroup","data-choices","","data-choices-search-false","","id","priority-field",1,"form-control","border-light","bg-light",3,"ngModelChange","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,"fs-6",3,"value"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","employeeCode","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","mobile","translate","",2,"width","10%"],["pSortableColumn","employeeType","translate","",2,"width","10%"],["pSortableColumn","EmployeeGroup","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["translate","hr.employee.employeeTeam",4,"ngIf"],["translate","hr.employee.managment",4,"ngIf"],["translate","hr.employee.customerService",4,"ngIf"],[4,"ngIf"],["class","badge bg-success-subtle text-success p-2","translate","hr.employee.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","hr.employee.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2","data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list","data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",3,"click",4,"hasPermission"],["translate","hr.employee.employeeTeam"],["translate","hr.employee.managment"],["translate","hr.employee.customerService"],["translate","hr.employee.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","hr.employee.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],["data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],["data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","employeeName","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","employeeName","type","text","id","employeeName","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","mobile","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","mobile","type","text","id","mobile",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","email","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","email","type","text","id","email",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","employeeType","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","employeeGroup","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",9),e.nI1(1,"translate"),e.j41(2,"div",10)(3,"div",11)(4,"div",12)(5,"base-filter",13),e.bIt("reset",function(){return e.eBV(i),e.Njj(t.onReset())})("search",function(){return e.eBV(i),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(i),e.Njj(t.onExportXlsx())})("addNew",function(){return e.eBV(i),e.Njj(t.goEmployeeRegister())}),e.qex(6,14),e.j41(7,"div",15)(8,"div",16)(9,"input",17),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.employeeName,s)||(t.pagination.employeeName=s),e.Njj(s)}),e.k0s(),e.nrm(10,"i",18),e.k0s()(),e.j41(11,"div",19)(12,"input",20),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.mobile,s)||(t.pagination.mobile=s),e.Njj(s)}),e.k0s()(),e.j41(13,"div",19)(14,"div",21)(15,"select",22),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.employeeType,s)||(t.pagination.employeeType=s),e.Njj(s)}),e.nrm(16,"option",23),e.DNE(17,be,3,2,"ng-container",24),e.k0s()()(),e.j41(18,"div",19)(19,"div",21)(20,"select",25),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.employeeGroup,s)||(t.pagination.employeeGroup=s),e.Njj(s)}),e.nrm(21,"option",23),e.DNE(22,ye,3,2,"ng-container",24),e.k0s()()(),e.bVm(),e.k0s(),e.j41(23,"div",26),e.nrm(24,"ngx-ui-loader",27),e.j41(25,"div",28)(26,"p-table",29,0),e.bIt("onLazyLoad",function(s){return e.eBV(i),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(i),e.Njj(t.onSelectionChange(s))}),e.DNE(28,Ce,19,0,"ng-template",30)(29,Re,22,14,"ng-template",31),e.k0s()(),e.DNE(30,Se,2,0,"div",32)(31,Ge,6,8,"div",33),e.k0s()()()(),e.DNE(32,we,50,20,"ng-template",null,1,e.C5r)(34,Be,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,22,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("addPermission",e.lJ4(24,he))("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.R50("ngModel",t.pagination.employeeName),e.R7$(3),e.R50("ngModel",t.pagination.mobile),e.R7$(3),e.R50("ngModel",t.pagination.employeeType),e.R7$(),e.Y8G("value",0),e.R7$(),e.Y8G("ngForOf",t.employeeTypes),e.R7$(3),e.R50("ngModel",t.pagination.employeeGroup),e.R7$(),e.Y8G("value",0),e.R7$(),e.Y8G("ngForOf",t.employeeGroups),e.R7$(2),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[c.Sq,c.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.BC,d.cb,d.YS,d.vS,d.cV,_.s5,G.m,q.b,H.w,Y.p,U.g,C.Mm,E.XI,P.Ei,E.Tg,D.HW,y.Cv,N.vr,_.md,X.m,A.p,c.vh,C.D9],encapsulation:2})}}return a})(),oe=(()=>{class a extends R.d{constructor(n){super(n,z.c.apiUrl+"EmployeeChangeShift/")}GetEmployeeChangeShiftLookup(){return this.http.get(this.baseUrl+"GetEmployeeChangeShiftLookup")}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(m.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const ee=()=>["employeeChangeShift.delete"],Xe=()=>["employeeChangeShift.register"];function Oe(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2),i=e.sdS(28);return e.Njj(t.openModalTitle(i))}),e.nrm(1,"i",30)(2,"span",31),e.k0s()}}function $e(a,r){if(1&a&&(e.qex(0),e.DNE(1,Oe,3,0,"button",28),e.bVm()),2&a){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.lengthSelect>=1)}}function He(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(n);const t=e.XpG(),i=e.sdS(26);return e.Njj(t.openModalTitle(i,"md"))}),e.nrm(1,"i",30)(2,"span",33),e.k0s()}}function Ye(a,r){1&a&&(e.j41(0,"tr",34)(1,"th",35),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",36),e.EFF(4,"#"),e.k0s(),e.j41(5,"th",37),e.nrm(6,"i",38),e.EFF(7," hr.employeeHoliday.employeeName "),e.k0s(),e.j41(8,"th",39),e.nrm(9,"i",38),e.EFF(10," hr.employeeHoliday.dateFrom "),e.k0s(),e.j41(11,"th",40),e.nrm(12,"i",38),e.EFF(13," hr.employeeHoliday.dateTo "),e.k0s(),e.j41(14,"th",41),e.nrm(15,"i",38),e.EFF(16," hr.employeeHoliday.shiftFrom "),e.k0s(),e.j41(17,"th",42),e.EFF(18," hr.employeeHoliday.note "),e.k0s(),e.nrm(19,"th",42),e.k0s())}function Ue(a,r){if(1&a&&(e.nrm(0,"i",48),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",49),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",50),e.EFF(9)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName," ")}}function Pe(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(26);return e.Njj(i.EditModel(t.id,p))}),e.nrm(1,"i",52),e.k0s()}}function Ae(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(28);return e.Njj(i.openModal(t.id,p))}),e.nrm(1,"i",54),e.k0s()}}function We(a,r){if(1&a&&(e.j41(0,"tr",43)(1,"td"),e.nrm(2,"p-tableCheckbox",44),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.DNE(18,Ue,10,9,"ng-template",null,3,e.C5r),e.nrm(20,"i",45),e.DNE(21,Pe,2,0,"button",46)(22,Ae,2,0,"button",47),e.k0s()()),2&a){const n=r.$implicit,o=r.rowIndex,t=e.sdS(19);e.R7$(2),e.Y8G("value",n),e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(n.employeeName),e.R7$(2),e.JRh(e.i5U(9,10,n.dateFrom,"yyyy-MM-dd")),e.R7$(3),e.JRh(e.i5U(12,13,n.dateTo,"yyyy-MM-dd")),e.R7$(3),e.JRh(n.shiftFromName),e.R7$(2),e.JRh(n.note),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.Y8G("hasPermission",e.lJ4(16,ee)),e.R7$(),e.Y8G("hasPermission",e.lJ4(17,ee))}}function ze(a,r){1&a&&(e.j41(0,"div",55),e.EFF(1," general.table.noData"),e.k0s())}function Ke(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",56)(1,"div",57),e.nrm(2,"ngb-pagination-info",58),e.j41(3,"table-length",59),e.bIt("lengthChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",60)(5,"ngb-pagination",61),e.bIt("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.pagination.pageNumber,t)||(i.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Je(a,r){1&a&&(e.j41(0,"span",83),e.EFF(1,"general.action.register "),e.k0s())}function Qe(a,r){1&a&&(e.j41(0,"span",83),e.EFF(1,"general.action.edit "),e.k0s())}function Ze(a,r){1&a&&(e.j41(0,"div",84),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function qe(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",62)(1,"div",63)(2,"h4",64),e.DNE(3,Je,2,0,"span",65)(4,Qe,2,0,"span",65),e.j41(5,"span",66),e.EFF(6),e.k0s()(),e.j41(7,"button",67),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",68),e.nrm(9,"ngx-ui-loader",21),e.j41(10,"form",69,4),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.OnSubmit())}),e.j41(12,"div",70)(13,"label",71),e.EFF(14," hr.employeeHoliday.dateFrom"),e.k0s(),e.j41(15,"input",72),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.dateFrom,t)||(i.form.dateFrom=t),e.Njj(t)}),e.k0s()(),e.j41(16,"div",70)(17,"label",71),e.EFF(18," hr.employeeHoliday.dateTo"),e.k0s(),e.j41(19,"input",73),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.dateTo,t)||(i.form.dateTo=t),e.Njj(t)}),e.k0s()(),e.j41(20,"div",70)(21,"label",71),e.EFF(22,"hr.employeeHoliday.employees"),e.k0s(),e.j41(23,"ng-select",74),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeId,t)||(i.form.employeeId=t),e.Njj(t)}),e.k0s()(),e.j41(24,"div",70)(25,"label",71),e.EFF(26,"hr.employeeHoliday.shiftFrom"),e.k0s(),e.j41(27,"ng-select",75),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.shiftFromId,t)||(i.form.shiftFromId=t),e.Njj(t)}),e.k0s()(),e.j41(28,"div",70)(29,"label",76),e.EFF(30,"hr.employeeHoliday.note"),e.k0s(),e.j41(31,"input",77,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.note,t)||(i.form.note=t),e.Njj(t)}),e.k0s(),e.DNE(33,Ze,2,0,"div",78),e.k0s(),e.j41(34,"div",79)(35,"button",80),e.nrm(36,"i",81)(37,"span",82),e.k0s()()()()()}if(2&a){const n=e.sdS(11),o=e.sdS(32),t=e.XpG();e.R7$(3),e.Y8G("ngIf",!t.isEditForm),e.R7$(),e.Y8G("ngIf",t.isEditForm),e.R7$(2),e.JRh(t.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(6),e.R50("ngModel",t.form.dateFrom),e.Y8G("altInput",!0)("convertModelValue",!0),e.R7$(4),e.R50("ngModel",t.form.dateTo),e.Y8G("altInput",!0)("convertModelValue",!0),e.R7$(4),e.Y8G("items",t.employees)("multiple",!1),e.R50("ngModel",t.form.employeeId),e.R7$(4),e.Y8G("items",t.shifts)("multiple",!1),e.R50("ngModel",t.form.shiftFromId),e.R7$(4),e.R50("ngModel",t.form.note),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(2),e.Y8G("disabled",!n.valid)}}function et(a,r){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",85),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let ae=(()=>{class a extends $.w{constructor(n,o,t,i,p,s,M,L){super(n,o,M,t,i,p,s),this.baseService=t,this.title="hr.employeeChangeShift.title",this.titleOperation="hr.employeeChangeShift.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.shifts=[],this.searchForm="",this.isResolveList=!0,this.configRoute()}ngOnInitMore(){this.getShiftLookUp(),this.breadCrumbItems=[{label:"layout.sidebar.hr"},{label:this.title,active:!0}]}mapForm(n){let o={...n};return o.dateFrom=this.datePipe.transform(o.dateFrom,"yyyy-MM-ddT00:00:00.000"),o.dateTo=this.datePipe.transform(o.dateTo,"yyyy-MM-ddT00:00:00.000"),o}onUpdateIsActive(n){this.baseService.updateActive(n).pipe((0,h.Q)(this.notifier)).subscribe(o=>{o?this.alertService.success():this.alertService.error("general.message."+o)},o=>{this.alertService.error()})}mapRegisterForm(n){let o={...n};return o.id=0,o.dateFrom=this.datePipe.transform(o.dateFrom,"yyyy-MM-ddT00:00:00.000"),o.dateTo=this.datePipe.transform(o.dateTo,"yyyy-MM-ddT00:00:00.000"),o}getShiftLookUp(){this.baseService.GetEmployeeChangeShiftLookup().subscribe(n=>{this.employees=n.data.employees,this.shifts=n.data.shifts},n=>{console.log(n)})}dateChange(n){var o=n.target.value;if(o.includes("to")){var t=o.split("to").map(i=>i.trim());this.pagination.dateFrom=t[0]+"T00:00:00.000",this.pagination.dateTo=t[1]+"T23:59:59.999",this.loadentities()}else this.pagination.dateFrom=null,this.pagination.dateTo=null,this.loadentities()}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(oe),e.rXU(f.u),e.rXU(c.vh),e.rXU(y.eD),e.rXU(_.Bq),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employeeChangeShift"]],features:[e.Vt3],decls:29,vars:20,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["note","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[1,"card-header","border-0"],[1,"row","g-4"],[1,"col-12","col-md-9"],[3,"searchChange"],[1,"d-inline-block"],["type","text","mwlFlatpickr","","placeholder","Select Date","id","isDate","mode","range",1,"input_search_300","form-control","bg-light","border-light","flatpickr-input","active",3,"change","ngModelChange","altInput","convertModelValue","ngModel"],[1,"col-12","col-md-3"],[1,"d-flex","justify-content-sm-end"],[4,"hasPermission"],["class","btn btn-primary fs-5",3,"click",4,"hasPermission"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],["class","btn btn-sm btn-danger fs-5 mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","fs-5","mx-1",3,"click"],[1,"ri-add-line","align-bottom","me-1"],["translate","general.action.delete"],[1,"btn","btn-primary","fs-5",3,"click"],["translate","hr.employeeChangeShift.addNew"],[1,""],[2,"width",".5%"],["translate","",2,"width",".5%"],["pSortableColumn","employeeId","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","dateFrom","translate","",2,"width","10%"],["pSortableColumn","dateTo","translate","",2,"width","10%"],["pSortableColumn","shiftFromId","translate","",2,"width","10%"],["translate","",2,"width","10%"],[1,"fs-5"],[3,"value"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2","data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list","data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",3,"click",4,"hasPermission"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],["data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","dateFrom","type","text","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"ngModelChange","ngModel","altInput","convertModelValue"],["name","dateTo","type","text","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"ngModelChange","ngModel","altInput","convertModelValue"],["name","employees","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","shiftFromId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","note","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","note","type","text","id","note",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"div",12)(8,"div")(9,"search-simple",13),e.bIt("searchChange",function(s){return e.eBV(i),e.Njj(t.searchChange(s))}),e.k0s(),e.j41(10,"div",14)(11,"input",15),e.bIt("change",function(s){return e.eBV(i),e.Njj(t.dateChange(s))}),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.searchForm.date,s)||(t.searchForm.date=s),e.Njj(s)}),e.k0s()()()(),e.j41(12,"div",16)(13,"div",17),e.DNE(14,$e,2,1,"ng-container",18)(15,He,3,0,"button",19),e.k0s()()()(),e.j41(16,"div",20),e.nrm(17,"ngx-ui-loader",21),e.j41(18,"div",22)(19,"p-table",23,0),e.bIt("onLazyLoad",function(s){return e.eBV(i),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(i),e.Njj(t.onSelectionChange(s))}),e.DNE(21,Ye,20,0,"ng-template",24)(22,We,23,18,"ng-template",25),e.k0s()(),e.DNE(23,ze,2,0,"div",26)(24,Ke,6,8,"div",27),e.k0s()()()(),e.DNE(25,qe,38,21,"ng-template",null,1,e.C5r)(27,et,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,16,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(11),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",t.searchForm.date),e.R7$(3),e.Y8G("hasPermission",e.lJ4(18,ee)),e.R7$(),e.Y8G("hasPermission",e.lJ4(19,Xe)),e.R7$(2),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[c.bT,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,_.s5,b.kL,G.m,H.w,Y.p,U.g,C.Mm,E.XI,P.Ei,E.Tg,E.S9,E.nA,y.Cv,N.vr,_.md,X.m,A.p,c.vh,C.D9],encapsulation:2})}}return a})(),ie=(()=>{class a extends R.d{constructor(n){super(n,z.c.apiUrl+"EmployeeHoliday/")}GetEmployeeLookup(){return this.http.get(this.baseUrl+"GetEmployeeLookup")}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(m.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const re=()=>["employeeHoliday.delete"],tt=()=>["employeeHoliday.register"],nt=()=>["employeeHoliday.edit"];function ot(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2),i=e.sdS(28);return e.Njj(t.openModalTitle(i))}),e.nrm(1,"i",30)(2,"span",31),e.k0s()}}function at(a,r){if(1&a&&(e.qex(0),e.DNE(1,ot,3,0,"button",28),e.bVm()),2&a){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.lengthSelect>=1)}}function it(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(n);const t=e.XpG(),i=e.sdS(26);return e.Njj(t.openModalTitle(i,"md"))}),e.nrm(1,"i",30)(2,"span",33),e.k0s()}}function rt(a,r){1&a&&(e.j41(0,"tr",34)(1,"th",35),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",36),e.EFF(4,"#"),e.k0s(),e.j41(5,"th",37),e.nrm(6,"i",38),e.EFF(7," hr.employeeHoliday.employeeName "),e.k0s(),e.j41(8,"th",39),e.nrm(9,"i",38),e.EFF(10," hr.employeeHoliday.dateFrom "),e.k0s(),e.j41(11,"th",40),e.nrm(12,"i",38),e.EFF(13," hr.employeeHoliday.dateTo "),e.k0s(),e.j41(14,"th",41),e.EFF(15," hr.employeeHoliday.note "),e.k0s(),e.nrm(16,"th",41),e.k0s())}function lt(a,r){if(1&a&&(e.nrm(0,"i",47),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",48),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",49),e.EFF(9)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName," ")}}function st(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(26);return e.Njj(i.EditModel(t.id,p))}),e.nrm(1,"i",51),e.k0s()}}function mt(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(28);return e.Njj(i.openModal(t.id,p))}),e.nrm(1,"i",53),e.k0s()}}function pt(a,r){if(1&a&&(e.j41(0,"tr",42)(1,"td"),e.nrm(2,"p-tableCheckbox",43),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.DNE(16,lt,10,9,"ng-template",null,3,e.C5r),e.nrm(18,"i",44),e.DNE(19,st,2,0,"button",45)(20,mt,2,0,"button",46),e.k0s()()),2&a){const n=r.$implicit,o=r.rowIndex,t=e.sdS(17);e.R7$(2),e.Y8G("value",n),e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(n.employeeName),e.R7$(2),e.JRh(e.i5U(9,9,n.dateFrom,"yyyy-MM-dd")),e.R7$(3),e.JRh(e.i5U(12,12,n.dateTo,"yyyy-MM-dd")),e.R7$(3),e.JRh(n.note),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.Y8G("hasPermission",e.lJ4(15,nt)),e.R7$(),e.Y8G("hasPermission",e.lJ4(16,re))}}function dt(a,r){1&a&&(e.j41(0,"div",54),e.EFF(1," general.table.noData"),e.k0s())}function ct(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",55)(1,"div",56),e.nrm(2,"ngb-pagination-info",57),e.j41(3,"table-length",58),e.bIt("lengthChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",59)(5,"ngb-pagination",60),e.bIt("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.pagination.pageNumber,t)||(i.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function gt(a,r){1&a&&(e.j41(0,"span",81),e.EFF(1,"general.action.register "),e.k0s())}function _t(a,r){1&a&&(e.j41(0,"span",81),e.EFF(1,"general.action.edit "),e.k0s())}function ht(a,r){1&a&&(e.j41(0,"div",82),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ut(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",61)(1,"div",62)(2,"h4",63),e.DNE(3,gt,2,0,"span",64)(4,_t,2,0,"span",64),e.j41(5,"span",65),e.EFF(6),e.k0s()(),e.j41(7,"button",66),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",67),e.nrm(9,"ngx-ui-loader",21),e.j41(10,"form",68,4),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.OnSubmit())}),e.j41(12,"div",69)(13,"label",70),e.EFF(14," hr.employeeHoliday.dateFrom"),e.k0s(),e.j41(15,"input",71),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.dateFrom,t)||(i.form.dateFrom=t),e.Njj(t)}),e.k0s()(),e.j41(16,"div",69)(17,"label",70),e.EFF(18," hr.employeeHoliday.dateTo"),e.k0s(),e.j41(19,"input",72),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.dateTo,t)||(i.form.dateTo=t),e.Njj(t)}),e.k0s()(),e.j41(20,"div",69)(21,"label",70),e.EFF(22,"hr.employeeHoliday.employees"),e.k0s(),e.j41(23,"ng-select",73),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.employeeId,t)||(i.form.employeeId=t),e.Njj(t)}),e.k0s()(),e.j41(24,"div",69)(25,"label",74),e.EFF(26,"hr.employeeHoliday.note"),e.k0s(),e.j41(27,"input",75,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.note,t)||(i.form.note=t),e.Njj(t)}),e.k0s(),e.DNE(29,ht,2,0,"div",76),e.k0s(),e.j41(30,"div",77)(31,"button",78),e.nrm(32,"i",79)(33,"span",80),e.k0s()()()()()}if(2&a){const n=e.sdS(11),o=e.sdS(28),t=e.XpG();e.R7$(3),e.Y8G("ngIf",!t.isEditForm),e.R7$(),e.Y8G("ngIf",t.isEditForm),e.R7$(2),e.JRh(t.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(6),e.R50("ngModel",t.form.dateFrom),e.Y8G("altInput",!0)("convertModelValue",!0),e.R7$(4),e.R50("ngModel",t.form.dateTo),e.Y8G("altInput",!0)("convertModelValue",!0),e.R7$(4),e.Y8G("items",t.employees)("multiple",!1),e.R50("ngModel",t.form.employeeId),e.R7$(4),e.R50("ngModel",t.form.note),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(2),e.Y8G("disabled",!n.valid)}}function ft(a,r){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",83),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let le=(()=>{class a extends $.w{constructor(n,o,t,i,p,s,M,L){super(n,o,M,t,i,p,s),this.baseService=t,this.title="hr.employeeHoliday.title",this.titleOperation="hr.employeeHoliday.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm="",this.isResolveList=!0,this.configRoute()}ngOnInitMore(){this.getShiftLookUp(),this.breadCrumbItems=[{label:"layout.sidebar.hr"},{label:this.title,active:!0}]}mapForm(n){let o={...n};return o.dateFrom=this.datePipe.transform(o.dateFrom,"yyyy-MM-ddT00:00:00.000"),o.dateTo=this.datePipe.transform(o.dateTo,"yyyy-MM-ddT00:00:00.000"),o}onUpdateIsActive(n){this.baseService.updateActive(n).pipe((0,h.Q)(this.notifier)).subscribe(o=>{o?this.alertService.success():this.alertService.error("general.message."+o)},o=>{this.alertService.error()})}mapRegisterForm(n){let o={...n};return o.id=0,o.dateFrom=this.datePipe.transform(o.dateFrom,"yyyy-MM-ddT00:00:00.000"),o.dateTo=this.datePipe.transform(o.dateTo,"yyyy-MM-ddT00:00:00.000"),o}getShiftLookUp(){this.baseService.GetEmployeeLookup().subscribe(n=>{this.employees=n.data.employees},n=>{console.log(n)})}dateChange(n){var o=n.target.value;if(o.includes("to")){var t=o.split("to").map(i=>i.trim());this.pagination.dateFrom=t[0]+"T00:00:00.000",this.pagination.dateTo=t[1]+"T23:59:59.999",this.loadentities()}else this.pagination.dateFrom=null,this.pagination.dateTo=null,this.loadentities()}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(ie),e.rXU(f.u),e.rXU(c.vh),e.rXU(y.eD),e.rXU(_.Bq),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["employeeHoliday"]],features:[e.Vt3],decls:29,vars:20,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["note","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[1,"card-header","border-0"],[1,"row","g-4"],[1,"col-12","col-md-9"],[3,"searchChange"],[1,"d-inline-block"],["type","text","mwlFlatpickr","","placeholder","Select Date","id","isDate","mode","range",1,"input_search_300","form-control","bg-light","border-light","flatpickr-input","active",3,"change","ngModelChange","altInput","convertModelValue","ngModel"],[1,"col-12","col-md-3"],[1,"d-flex","justify-content-sm-end"],[4,"hasPermission"],["class","btn btn-sm btn-primary fs-5",3,"click",4,"hasPermission"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],["class","btn btn-sm btn-danger fs-5 mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","fs-5","mx-1",3,"click"],[1,"ri-add-line","align-bottom","me-1"],["translate","general.action.delete"],[1,"btn","btn-sm","btn-primary","fs-5",3,"click"],["translate","hr.employeeHoliday.addNewHoliday"],[1,""],[2,"width",".5%"],["translate","",2,"width",".5%"],["pSortableColumn","employeeId","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","dateFrom","translate","",2,"width","10%"],["pSortableColumn","dateTo","translate","",2,"width","10%"],["translate","",2,"width","10%"],[1,"fs-5"],[3,"value"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2","data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list","data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",3,"click",4,"hasPermission"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["data-bs-toggle","modal","data-bs-target","#createTask","data-edit-id","15",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],["data-bs-toggle","modal","data-bs-target","#removeTaskItemModal","data-remove-id","15",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","dateFrom","type","text","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"ngModelChange","ngModel","altInput","convertModelValue"],["name","dateTo","type","text","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"ngModelChange","ngModel","altInput","convertModelValue"],["name","employees","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","note","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","note","type","text","id","note",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"div",12)(8,"div")(9,"search-simple",13),e.bIt("searchChange",function(s){return e.eBV(i),e.Njj(t.searchChange(s))}),e.k0s(),e.j41(10,"div",14)(11,"input",15),e.bIt("change",function(s){return e.eBV(i),e.Njj(t.dateChange(s))}),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.searchForm.date,s)||(t.searchForm.date=s),e.Njj(s)}),e.k0s()()()(),e.j41(12,"div",16)(13,"div",17),e.DNE(14,at,2,1,"ng-container",18)(15,it,3,0,"button",19),e.k0s()()()(),e.j41(16,"div",20),e.nrm(17,"ngx-ui-loader",21),e.j41(18,"div",22)(19,"p-table",23,0),e.bIt("onLazyLoad",function(s){return e.eBV(i),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(i),e.Njj(t.onSelectionChange(s))}),e.DNE(21,rt,17,0,"ng-template",24)(22,pt,21,17,"ng-template",25),e.k0s()(),e.DNE(23,dt,2,0,"div",26)(24,ct,6,8,"div",27),e.k0s()()()(),e.DNE(25,ut,34,18,"ng-template",null,1,e.C5r)(27,ft,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,16,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(11),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",t.searchForm.date),e.R7$(3),e.Y8G("hasPermission",e.lJ4(18,re)),e.R7$(),e.Y8G("hasPermission",e.lJ4(19,tt)),e.R7$(2),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[c.bT,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,_.s5,b.kL,G.m,H.w,Y.p,U.g,C.Mm,E.XI,P.Ei,E.Tg,E.S9,E.nA,y.Cv,N.vr,_.md,X.m,A.p,c.vh,C.D9],encapsulation:2})}}return a})();var se=l(70053);const bt=()=>["team.view"],yt=()=>["team.edit"],Ct=()=>["team.delete"];function vt(a,r){1&a&&(e.j41(0,"tr",25)(1,"th",26),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",27),e.nrm(4,"i",28),e.EFF(5," general.table.name "),e.k0s(),e.j41(6,"th",29),e.nrm(7,"i",28),e.EFF(8," hr.team.cityName "),e.k0s(),e.j41(9,"th",30),e.EFF(10," hr.team.workTimeName "),e.k0s(),e.j41(11,"th",30),e.EFF(12," hr.team.dayOff "),e.k0s(),e.j41(13,"th",31),e.nrm(14,"i",28),e.EFF(15," general.table.isActive "),e.k0s(),e.nrm(16,"th",30),e.k0s())}function Tt(a,r){if(1&a&&(e.qex(0),e.j41(1,"a",40)(2,"div",41)(3,"div",42),e.EFF(4),e.k0s()()(),e.bVm()),2&a){const n=r.$implicit;e.R7$(),e.Y8G("title",n),e.R7$(3),e.SpI(" ",n.substring(0,2)," ")}}function jt(a,r){if(1&a&&(e.qex(0),e.j41(1,"a",40)(2,"div",41)(3,"div",42),e.EFF(4),e.k0s()()(),e.bVm()),2&a){const n=r.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("title",o.getName(n)),e.R7$(3),e.SpI(" ",o.getName(n).substring(0,2)," ")}}function Et(a,r){1&a&&e.nrm(0,"span",43)}function It(a,r){1&a&&e.nrm(0,"span",44)}function kt(a,r){if(1&a&&(e.nrm(0,"i",45),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",46),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",47),e.EFF(9)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,n.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,n.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName," ")}}function xt(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(22);return e.Njj(i.EditModel(t.teamCode,p,"lg"))}),e.nrm(1,"i",49),e.k0s()}}function Ft(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(24);return e.Njj(i.openModal(t.teamCode,p))}),e.nrm(1,"i",51),e.k0s()}}function Mt(a,r){if(1&a&&(e.j41(0,"tr",32)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"div",33),e.DNE(9,Tt,5,2,"ng-container",34),e.k0s()(),e.j41(10,"td")(11,"div",33),e.DNE(12,jt,5,2,"ng-container",34),e.k0s()(),e.j41(13,"td"),e.DNE(14,Et,1,0,"span",35)(15,It,1,0,"span",36),e.k0s(),e.j41(16,"td"),e.DNE(17,kt,10,9,"ng-template",null,3,e.C5r),e.nrm(19,"i",37),e.DNE(20,xt,2,0,"button",38)(21,Ft,2,0,"button",39),e.k0s()()),2&a){const n=r.$implicit,o=r.rowIndex,t=e.sdS(18);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(n.teamName),e.R7$(2),e.JRh(n.cityName),e.R7$(3),e.Y8G("ngForOf",n.teamWorkTimes),e.R7$(3),e.Y8G("ngForOf",n.teamDayOff),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.Y8G("hasPermission",e.lJ4(10,yt)),e.R7$(),e.Y8G("hasPermission",e.lJ4(11,Ct))}}function Rt(a,r){1&a&&(e.j41(0,"div",52),e.EFF(1," general.table.noData"),e.k0s())}function St(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",53)(1,"div",54),e.nrm(2,"ngb-pagination-info",55),e.j41(3,"table-length",56),e.bIt("lengthChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",57)(5,"ngb-pagination",58),e.bIt("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.pagination.pageNumber,t)||(i.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Gt(a,r){1&a&&(e.j41(0,"span",86),e.EFF(1,"general.action.register "),e.k0s())}function Nt(a,r){1&a&&(e.j41(0,"span",86),e.EFF(1,"general.action.edit "),e.k0s())}function Dt(a,r){1&a&&(e.j41(0,"div",87),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Vt(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",59)(1,"div",60)(2,"h4",61),e.DNE(3,Gt,2,0,"span",62)(4,Nt,2,0,"span",62),e.j41(5,"span",63),e.EFF(6),e.k0s()(),e.j41(7,"button",64),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",65),e.nrm(9,"ngx-ui-loader",18),e.j41(10,"form",66,4),e.bIt("submit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.OnSubmit())}),e.j41(12,"div",8)(13,"div",67)(14,"label",68),e.EFF(15,"general.table.name"),e.k0s(),e.j41(16,"input",69,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.teamName,t)||(i.form.teamName=t),e.Njj(t)}),e.k0s(),e.DNE(18,Dt,2,0,"div",70),e.k0s(),e.j41(19,"div",67)(20,"label",71),e.EFF(21,"hr.team.cityName"),e.k0s(),e.j41(22,"ng-select",72),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.cityCode,t)||(i.form.cityCode=t),e.Njj(t)}),e.k0s()(),e.j41(23,"div",73)(24,"label",71),e.EFF(25,"hr.team.categoryName"),e.k0s(),e.j41(26,"ng-select",74),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.teamServiceCategories,t)||(i.form.teamServiceCategories=t),e.Njj(t)}),e.k0s()(),e.j41(27,"div",73)(28,"label",71),e.EFF(29,"hr.team.workTimeName"),e.k0s(),e.j41(30,"ng-select",75),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.teamWorkTimes,t)||(i.form.teamWorkTimes=t),e.Njj(t)}),e.k0s()(),e.j41(31,"div",73)(32,"label",76),e.EFF(33,"hr.team.dayOff"),e.k0s(),e.j41(34,"ng-select",77),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.teamDayOff,t)||(i.form.teamDayOff=t),e.Njj(t)}),e.k0s()(),e.j41(35,"div",73)(36,"label",78),e.EFF(37,"general.table.notes"),e.k0s(),e.j41(38,"input",79,6),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.notes,t)||(i.form.notes=t),e.Njj(t)}),e.k0s()(),e.j41(40,"div",73)(41,"label",80),e.EFF(42,"general.table.isActive"),e.k0s(),e.j41(43,"p-inputSwitch",81),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.isActive,t)||(i.form.isActive=t),e.Njj(t)}),e.k0s()()(),e.j41(44,"div",82)(45,"button",83),e.nrm(46,"i",84)(47,"span",85),e.k0s()()()()()}if(2&a){const n=e.sdS(11),o=e.sdS(17),t=e.XpG();e.R7$(3),e.Y8G("ngIf",!t.isEditForm),e.R7$(),e.Y8G("ngIf",t.isEditForm),e.R7$(2),e.JRh(t.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(7),e.R50("ngModel",t.form.teamName),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.Y8G("items",t.cities)("multiple",!1),e.R50("ngModel",t.form.cityCode),e.R7$(4),e.Y8G("items",t.categories)("multiple",!0),e.R50("ngModel",t.form.teamServiceCategories),e.R7$(4),e.Y8G("items",t.workTimes)("multiple",!0),e.R50("ngModel",t.form.teamWorkTimes),e.R7$(4),e.Y8G("items",t.weekDays)("multiple",!0),e.R50("ngModel",t.form.teamDayOff),e.R7$(4),e.R50("ngModel",t.form.notes),e.R7$(5),e.R50("ngModel",t.form.isActive),e.R7$(2),e.Y8G("disabled",!n.valid)}}function Lt(a,r){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",88),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let me=(()=>{class a extends $.w{constructor(n,o,t,i,p,s,M,L){super(n,o,M,t,i,p,s),this.baseService=t,this.excelService=L,this.title="hr.team.title",this.titleOperation="hr.team.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.cities=[],this.categories=[],this.workTimes=[],this.dayOff=[],this.weekDays=[],this.configRoute(),this.GetTeamLookUp()}onUpdateIsActive(n){this.baseService.updateActive(n).pipe((0,h.Q)(this.notifier)).subscribe(o=>{o?this.alertService.success():this.alertService.error("general.message."+o)},o=>{this.alertService.error()})}ngOnInitMore(){}mapForm(n){let o={...n};return o.id=o.teamCode,o.teamDayOff=o.teamDayOff.map(t=>({teamId:o.teamCode,WeekDay:t})),o.teamServiceCategories=o.teamServiceCategories.map(t=>({teamCode:o.teamCode,teamServiceCategoryCode:n.teamServiceCategoriesList.find(i=>i.serviceCategoryCode==t)?.teamServiceCategoryCode,serviceCategoryCode:t})),o.teamWorkTimes=o.teamWorkTimes.map(t=>({teamWorkTimeCode:n.teamWorkTimesList.find(i=>i.workTimeCode==t)?.teamWorkTimeCode,workTimeCode:t,teamCode:o.teamCode})),o}mapRegisterForm(n){let o={...n};return o.teamCode=0,o.teamDayOff=o.teamDayOff.map(t=>({teamId:0,WeekDay:t})),o.teamServiceCategories=o.teamServiceCategories.map(t=>({teamCode:0,teamServiceCategoryCode:0,serviceCategoryCode:t})),o.teamWorkTimes=o.TeamWorkTimes.map(t=>({teamWorkTimeCode:0,workTimeCode:t,teamCode:0})),o}OnSearch(n){this.ngxLoader.startLoader(j.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(j.a7),this.loadentities()}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let n=[];return this.entities?.forEach(o=>{n.push({workTime:o.workTime,isActive:this.getTranslationText("general.table.active")})}),n}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}editEntity(){let n=this.mapForm(this.form);this.baseService.editPut(n.id,n).pipe((0,v.O)(),(0,S.c)(this.mainDelay),(0,w.Z)(),(0,h.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(o=>{o.success?this.submitFunished():this.alertService.error("general.message."+o.message)},o=>{this.alertService.error("general.message."+o)})}GetTeamLookUp(){this.baseService.GetTeamLookUp().subscribe(n=>{this.cities=n.data.cities,this.categories=n.data.categories,this.workTimes=n.data.workTimes,this.weekDays=n.data.weekDays},n=>{console.log(n)})}getName(n){return this.getTranslationText("hr.employee."+n)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(se.n),e.rXU(f.u),e.rXU(c.vh),e.rXU(y.eD),e.rXU(_.Bq),e.rXU(Z.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-Team"]],features:[e.Vt3],decls:25,vars:21,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["teamName","ngModel"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","employeeCode","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","cityCode","translate","",2,"width","10%"],["translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","8%"],[1,"fs-5"],[1,"avatar-group","mb-2"],[4,"ngFor","ngForOf"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["href","javascript: void(0);","data-bs-toggle","tooltip","data-bs-trigger","hover","data-bs-placement","top",1,"avatar-group-item",3,"title"],[1,"avatar-xs"],[1,"avatar-title","rounded-circle","bg-primary"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit"],[1,"col-12","col-md-6"],["for","teamName","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","teamName","type","text","id","teamName","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","cityCode","bindValue","id","bindLabel","name","required","",3,"ngModelChange","items","multiple","ngModel"],[1,"col-12"],["name","teamServiceCategories","bindValue","id","bindLabel","name","required","",3,"ngModelChange","items","multiple","ngModel"],["name","teamWorkTimes","bindValue","id","bindLabel","name","required","",3,"ngModelChange","items","multiple","ngModel"],["translate","",1,"fw-bold","form-label","w-100"],["name","dayOff","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit","type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",7),e.nI1(1,"translate"),e.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),e.bIt("reset",function(){return e.eBV(i),e.Njj(t.onReset())})("search",function(){return e.eBV(i),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(i),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(i);const s=e.sdS(22);return e.Njj(t.openModalTitle(s,"lg"))}),e.qex(6,12),e.j41(7,"div",13)(8,"div",14)(9,"input",15),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.filterValue,s)||(t.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",16),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",17),e.nrm(13,"ngx-ui-loader",18),e.j41(14,"div",19)(15,"p-table",20,0),e.bIt("onLazyLoad",function(s){return e.eBV(i),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(i),e.Njj(t.onSelectionChange(s))}),e.DNE(17,vt,17,0,"ng-template",21)(18,Mt,22,12,"ng-template",22),e.k0s()(),e.DNE(19,Rt,2,0,"div",23)(20,St,6,8,"div",24),e.k0s()()()(),e.DNE(21,Vt,48,23,"ng-template",null,1,e.C5r)(23,Lt,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,16,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("addPermission",e.lJ4(20,bt))("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,18,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[c.Sq,c.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,_.s5,G.m,q.b,H.w,Y.p,U.g,C.Mm,E.XI,P.Ei,E.Tg,D.HW,y.Cv,N.vr,_.md,X.m,A.p,c.vh,C.D9],encapsulation:2})}}return a})(),pe=(()=>{class a extends R.d{constructor(n){super(n,z.c.apiUrl+"WorkTime/")}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(m.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const wt=()=>["workTime.view"],Bt=()=>["workTime.edit"],Xt=()=>["workTime.delete"];function Ot(a,r){1&a&&(e.j41(0,"tr",25)(1,"th",26),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",27),e.nrm(4,"i",28),e.EFF(5," general.table.name "),e.k0s(),e.j41(6,"th",29),e.nrm(7,"i",28),e.EFF(8," general.table.isActive "),e.k0s(),e.nrm(9,"th",30),e.k0s())}function $t(a,r){1&a&&e.nrm(0,"span",37)}function Ht(a,r){1&a&&e.nrm(0,"span",38)}function Yt(a,r){if(1&a&&(e.nrm(0,"i",39),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",40),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",41),e.EFF(9)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,n.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,n.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName," ")}}function Ut(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(22);return e.Njj(i.EditModel(t,p))}),e.nrm(1,"i",43),e.k0s()}}function Pt(a,r){if(1&a){const n=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,i=e.XpG(),p=e.sdS(24);return e.Njj(i.openModal(t.workTimeCode,p))}),e.nrm(1,"i",45),e.k0s()}}function At(a,r){if(1&a&&(e.j41(0,"tr",31)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.DNE(6,$t,1,0,"span",32)(7,Ht,1,0,"span",33),e.k0s(),e.j41(8,"td"),e.DNE(9,Yt,10,9,"ng-template",null,3,e.C5r),e.nrm(11,"i",34),e.DNE(12,Ut,2,0,"button",35)(13,Pt,2,0,"button",36),e.k0s()()),2&a){const n=r.$implicit,o=r.rowIndex,t=e.sdS(10);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(n.workTime),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.Y8G("hasPermission",e.lJ4(7,Bt)),e.R7$(),e.Y8G("hasPermission",e.lJ4(8,Xt))}}function Wt(a,r){1&a&&(e.j41(0,"div",46),e.EFF(1," general.table.noData"),e.k0s())}function zt(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",47)(1,"div",48),e.nrm(2,"ngb-pagination-info",49),e.j41(3,"table-length",50),e.bIt("lengthChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",51)(5,"ngb-pagination",52),e.bIt("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.pagination.pageNumber,t)||(i.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Kt(a,r){1&a&&(e.j41(0,"span",74),e.EFF(1,"general.action.register "),e.k0s())}function Jt(a,r){1&a&&(e.j41(0,"span",74),e.EFF(1,"general.action.edit "),e.k0s())}function Qt(a,r){1&a&&(e.j41(0,"div",75),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Zt(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",53)(1,"div",54)(2,"h4",55),e.DNE(3,Kt,2,0,"span",56)(4,Jt,2,0,"span",56),e.j41(5,"span",57),e.EFF(6),e.k0s()(),e.j41(7,"button",58),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",59),e.nrm(9,"ngx-ui-loader",18),e.j41(10,"form",60,4),e.bIt("submit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.OnSubmit())}),e.j41(12,"div",61)(13,"label",62),e.EFF(14,"general.table.name"),e.k0s(),e.j41(15,"input",63,5),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.workTime,t)||(i.form.workTime=t),e.Njj(t)}),e.k0s(),e.DNE(17,Qt,2,0,"div",64),e.k0s(),e.j41(18,"div",61)(19,"label",65),e.EFF(20,"general.table.notes"),e.k0s(),e.j41(21,"input",66,6),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.notes,t)||(i.form.notes=t),e.Njj(t)}),e.k0s()(),e.j41(23,"div",67)(24,"label",68),e.EFF(25,"general.table.isActive"),e.k0s(),e.j41(26,"p-inputSwitch",69),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.form.isActive,t)||(i.form.isActive=t),e.Njj(t)}),e.k0s()(),e.j41(27,"div",70)(28,"button",71),e.nrm(29,"i",72)(30,"span",73),e.k0s()()()()()}if(2&a){const n=e.sdS(11),o=e.sdS(16),t=e.XpG();e.R7$(3),e.Y8G("ngIf",!t.isEditForm),e.R7$(),e.Y8G("ngIf",t.isEditForm),e.R7$(2),e.JRh(t.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(6),e.R50("ngModel",t.form.workTime),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.R50("ngModel",t.form.notes),e.R7$(5),e.R50("ngModel",t.form.isActive),e.R7$(2),e.Y8G("disabled",!n.valid)}}function qt(a,r){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",76),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let de=(()=>{class a extends $.w{constructor(n,o,t,i,p,s,M,L,te){super(n,o,M,t,i,p,s),this.baseService=t,this.excelService=te,this.title="hr.workTime.title",this.titleOperation="hr.workTime.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.configRoute()}onUpdateIsActive(n){this.baseService.updateActive(n).pipe((0,h.Q)(this.notifier)).subscribe(o=>{o?this.alertService.success():this.alertService.error("general.message."+o)},o=>{this.alertService.error()})}ngOnInitMore(){}mapForm(n){let o={...n};return o.id=o.workTimeCode,o}mapRegisterForm(n){let o={...n};return o.workTimeCode=0,o}OnSearch(n){this.ngxLoader.startLoader(j.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(j.a7),this.loadentities()}configRoute(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let n=[];return this.entities?.forEach(o=>{n.push({workTime:o.workTime,isActive:this.getTranslationText("general.table.active")})}),n}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}EditModel(n,o,t="md"){this.isEditForm=!0,this.form={workTimeCode:n.workTimeCode,workTime:n.workTime,notes:n.notes,isActive:n.isActive},this.modalService.open(o,{centered:!0,size:t})}editEntity(){let n=this.mapForm(this.form);this.baseService.editPut(n.id,n).pipe((0,v.O)(),(0,S.c)(this.mainDelay),(0,w.Z)(),(0,h.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(o=>{o.success?this.submitFunished():this.alertService.error("general.message."+o.message)},o=>{this.alertService.error("general.message."+o)})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(u.nX),e.rXU(C.c$),e.rXU(pe),e.rXU(f.u),e.rXU(c.vh),e.rXU(y.eD),e.rXU(_.Bq),e.rXU(e.gRc),e.rXU(Z.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-workTime"]],features:[e.Vt3],decls:25,vars:21,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["workTime","ngModel"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","employeeCode","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit"],[1,"mb-3"],["for","workTime","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","workTime","type","text","id","workTime","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit","type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,t){if(1&o){const i=e.RV6();e.nrm(0,"app-breadcrumbs",7),e.nI1(1,"translate"),e.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),e.bIt("reset",function(){return e.eBV(i),e.Njj(t.onReset())})("search",function(){return e.eBV(i),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(i),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(i);const s=e.sdS(22);return e.Njj(t.openModalTitle(s,"md"))}),e.qex(6,12),e.j41(7,"div",13)(8,"div",14)(9,"input",15),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(t.pagination.filterValue,s)||(t.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",16),e.k0s()(),e.bVm(),e.k0s(),e.j41(12,"div",17),e.nrm(13,"ngx-ui-loader",18),e.j41(14,"div",19)(15,"p-table",20,0),e.bIt("onLazyLoad",function(s){return e.eBV(i),e.Njj(t.tableChange(s))})("selectionChange",function(s){return e.eBV(i),e.Njj(t.onSelectionChange(s))}),e.DNE(17,Ot,10,0,"ng-template",21)(18,At,14,9,"ng-template",22),e.k0s()(),e.DNE(19,Wt,2,0,"div",23)(20,zt,6,8,"div",24),e.k0s()()()(),e.DNE(21,Zt,31,11,"ng-template",null,1,e.C5r)(23,qt,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,16,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("addPermission",e.lJ4(20,wt))("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,18,"task.tasklist.subject")),e.R50("ngModel",t.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[c.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,_.s5,G.m,q.b,H.w,Y.p,U.g,C.Mm,E.XI,P.Ei,E.Tg,D.HW,y.Cv,_.md,X.m,A.p,c.vh,C.D9],encapsulation:2})}}return a})();var W=l(56131);let en=(()=>{class a extends W.E{constructor(n,o,t){super(n,o,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(ie),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),tn=(()=>{class a extends W.E{constructor(n,o,t){super(n,o,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(oe),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),nn=(()=>{class a extends W.E{constructor(n,o,t){super(n,o,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(g),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var on=l(7673);let an=(()=>{class a{constructor(n,o,t){this.router=n,this.employeeService=o,this.alertService=t}resolve(n,o){const i=this.router.getCurrentNavigation()?.extras?.state?.id;return""===i?(this.alertService.error(),this.router.navigateByUrl("/hr/employees"),(0,on.of)(null)):this.employeeService.getById(i)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(g),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),rn=(()=>{class a extends W.E{constructor(n,o,t){super(n,o,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(pe),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),ln=(()=>{class a extends W.E{constructor(n,o,t){super(n,o,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(u.Ix),e.KVO(se.n),e.KVO(f.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var V=l(56701);const sn=[{path:"employeeChangeShift",component:ae,resolve:{data:tn},canActivate:[V.g],data:{permission:["employeeChangeShift.view"]}},{path:"employeeHoliday",component:le,resolve:{data:en},canActivate:[V.g],data:{permission:["employeeHoliday.view"]}},{path:"employees",component:ne,resolve:{data:nn},canActivate:[V.g],data:{permission:["employee.view"]}},{path:"employees/register",component:Q,canActivate:[V.g],data:{permission:["employee.register"]}},{path:"employees/edit",component:Q,resolve:{data:an},canActivate:[V.g],data:{permission:["employee.edit"]}},{path:"teams",component:me,resolve:{data:ln},canActivate:[V.g],data:{permission:["team.view"]}},{path:"workTime",component:de,resolve:{data:rn},canActivate:[V.g],data:{permission:["workTime.view"]}}];let mn=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(sn),u.iI]})}}return a})();var pn=l(45633),dn=l(65430),cn=l(38542),gn=l(71144);let _n=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[c.MD,d.YN,d.X1,_.zH,_.Pv,_.Gk,_.h_,_.c9,T.A,F.JG,b.ND,I.r,mn,pn.G,C.h,E.bG,dn.q4,D.H_,_.c9,y.th,N.MQ,_.n8,cn.S,gn.j]})}}return a})()},75622:(O,x,l)=>{l.d(x,{w:()=>C});var c=l(21413),d=l(56977),_=l(37021),T=l(35335),F=l(45236),b=l(70980),I=l(99437),u=l(18810),k=l(35263),h=l(36158),v=l(54438),S=l(51188),w=l(8147),B=l(69005),K=l(67569),J=l(3888),j=l(60177),e=l(1530);let C=(()=>{class R{constructor(m,g,f,y,G,D,N){this.routerActive=m,this.translateService=g,this.modalService=f,this.baseService=y,this.alertService=G,this.datePipe=D,this.ngxLoader=N,this.title="",this.mainDelay=50,this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new c.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=h.cX,this.loaderOperationShap=h.$$,this.operationLoader=h.ZW,this.loaderDeleteShap=h.jg,this.mainTable=h.uG,this.searchLoader=h.a7,this.deleteLoader=h.Fq,this.langArabic="ar",this.paymentTypes=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,d.Q)(this.notifier)).subscribe(m=>{this.entities=m.data.result,this.pagination=m.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(h.a7)},m=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,d.Q)(this.notifier)).subscribe(m=>{this.lang=m.lang})}getTranslationText(m){let g="";return this.translateService.get(m).pipe((0,d.Q)(this.notifier)).subscribe(f=>{g=f}),g}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(m){return null!=m?m.substring(0,10)+"...":""}getRenderIndex(m){return this.index++,this.index}successDataTable(m){this.ngxLoader.stopLoader(h.a7),this.pagination.totalItems=m.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(h.a7),this.alertService.error()}openModalTitle(m,g="md"){this.isEditForm=!1,this.form={},this.modalService.open(m,{centered:!0,size:g})}openModal(m,g,f="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:m}],this.modalService.open(g,{centered:!0,size:f})}openModalMoreOperation(m){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(g=>g.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(m){this.ngxLoader.startLoader(h.a7),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.ngxLoader.startLoader(h.a7),this.baseService.get(this.pagination).pipe((0,d.Q)(this.notifier)).subscribe(m=>{this.ngxLoader.stopLoader(h.a7),this.entities=m.data,this.pagination.totalItems=m.totalItems,this.LoadSuccess()},m=>{this.ngxLoader.stopLoader(h.a7),this.alertService.error(m)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}LoadSuccess(){}tableChange(m){this.pagination.filterType=m.sortField,this.pagination.sortType=1==m.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let m=this.mapRegisterForm(this.form);this.baseService.register(m).pipe((0,_.O)(),(0,T.c)(this.mainDelay),(0,F.Z)(),(0,d.Q)(this.notifier),(0,b.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,I.W)(g=>(0,u.$)(g))).subscribe(g=>{g.success?this.submitFunished():this.alertService.error("general.message."+g.message)},g=>{this.alertService.error("general.message."+g)})}editEntity(){let m=this.mapForm(this.form);this.baseService.edit(m.id,m).pipe((0,_.O)(),(0,T.c)(this.mainDelay),(0,F.Z)(),(0,d.Q)(this.notifier),(0,b.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(g=>{g.success?this.submitFunished():this.alertService.error("general.message."+g.message)},g=>{this.alertService.error("general.message."+g)})}mapForm(m){return m}mapRegisterForm(m){return m.id=0,m}submitFunished(){this.alertService.success(),this.loadentities(),this.modalService?.dismissAll(),this.ngxLoader.stop(h.a7),this.btnDisabled=!0}EditModel(m,g,f="md"){this.isEditForm=!0,this.baseService.getById(m).pipe((0,d.Q)(this.notifier)).subscribe(y=>{y.success?this.form=y.data:this.alertService.error("general.message."+y.message),this.modalService.open(g,{centered:!0,size:f})},y=>{this.alertService.error()})}EditModelTilte(m){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,d.Q)(this.notifier)).subscribe(f=>{f?this.form=f:this.alertService.error("general.message."+f)},f=>{this.alertService.error()})}onSelectionChange(m){this.selectedRow=m,this.lengthSelect=m.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(m){this.pagination.pageNumber=m,this.loadentities()}ListItemChange(m){this.pagination.pageSize=m.target.value,this.loadentities()}searchChange(m){this.pagination.filterValue=m,this.loadentities()}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(h.Fq);let m=this.selectedRow.map(g=>g.id);this.baseService.deleteRange(m).pipe((0,_.O)(),(0,T.c)(this.mainDelay),(0,F.Z)(),(0,d.Q)(this.notifier),(0,b.j)(()=>this.ngxLoader.stopLoader(h.Fq))).subscribe(g=>{g.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+g)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(m=>m.id)}isEmpty(m){return(void 0===m||null==m||m.length)<=0}OnReset(m){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(m){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(g){return new(g||R)(v.rXU(S.nX),v.rXU(w.c$),v.rXU(B.Bq),v.rXU(K.d),v.rXU(J.u),v.rXU(j.vh),v.rXU(e.eD))}}static{this.\u0275cmp=v.VBU({type:R,selectors:[["app-base"]],viewQuery:function(g,f){if(1&g&&v.GBs(k.XI,5),2&g){let y;v.mGM(y=v.lsd())&&(f.tableMaster=y.first)}},decls:0,vars:0,template:function(g,f){},encapsulation:2})}}return R})()},88148:(O,x,l)=>{l.d(x,{p:()=>_});var c=l(54438),d=l(8147);let _=(()=>{class T{static{this.\u0275fac=function(I){return new(I||T)}}static{this.\u0275cmp=c.VBU({type:T,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(I,u){1&I&&(c.j41(0,"span",0),c.EFF(1),c.k0s(),c.nrm(2,"span",1),c.j41(3,"span",0),c.EFF(4),c.k0s(),c.nrm(5,"span",2)),2&I&&(c.R7$(),c.JRh(u.pagination.totalItems>u.pagination.pageNumber*u.pagination.pageSize?u.pagination.pageNumber*u.pagination.pageSize:u.pagination.totalItems),c.R7$(3),c.JRh(u.pagination.totalItems))},dependencies:[d.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return T})()},91580:(O,x,l)=>{l.d(x,{g:()=>F});var c=l(54438),d=l(60177),_=l(89417);function T(b,I){if(1&b&&(c.j41(0,"option"),c.EFF(1),c.k0s()),2&b){const u=I.$implicit;c.R7$(),c.JRh(u)}}let F=(()=>{class b{constructor(){this.lengthChange=new c.bkB}ListItemChange(u){this.lengthChange.emit(u)}static{this.\u0275fac=function(k){return new(k||b)}}static{this.\u0275cmp=c.VBU({type:b,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(k,h){1&k&&(c.j41(0,"div",0),c.nrm(1,"span",1),c.j41(2,"select",2),c.bIt("change",function(S){return h.ListItemChange(S)}),c.DNE(3,T,2,1,"option",3),c.k0s()()),2&k&&(c.R7$(3),c.Y8G("ngForOf",h.lengthTable))},dependencies:[d.Sq,_.xH,_.y7],encapsulation:2})}}return b})()}}]);